(function(e){function t(t){for(var s,r,o=t[0],l=t[1],u=t[2],d=0,h=[];d<o.length;d++)r=o[d],n[r]&&h.push(n[r][0]),n[r]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(e[s]=l[s]);c&&c(t);while(h.length)h.shift()();return a.push.apply(a,u||[]),i()}function i(){for(var e,t=0;t<a.length;t++){for(var i=a[t],s=!0,o=1;o<i.length;o++){var l=i[o];0!==n[l]&&(s=!1)}s&&(a.splice(t--,1),e=r(r.s=i[0]))}return e}var s={},n={app:0},a=[];function r(t){if(s[t])return s[t].exports;var i=s[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=s,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)r.d(i,s,function(t){return e[t]}.bind(null,s));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var c=l;a.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},"4c97":function(e,t,i){},"56d7":function(e,t,i){"use strict";i.r(t);i("cadf"),i("551c"),i("097d");var s=i("2b0e"),n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"m10",attrs:{id:"app"}},[i("div",{staticClass:"container"},[i("header",{staticClass:"mb10 flex100",attrs:{id:"header"}},[i("h1",{staticClass:"mb5"},[e._v("Movie Swiper")]),i("p",{staticClass:"mb10"},[e._v("There are too many movies to watch. Narrow down which movie to watch.")]),0===e.mediaUndecided.length&&1===e.mediaYes.length?i("p",{staticClass:"mb10"},[e._v("Enjoy your movie: "+e._s(e.mediaYes[0].original_title))]):e._e(),i("div",{staticClass:"flex spaceBetween",attrs:{id:"buttons"}},[i("i",{staticClass:"fas fa-chalkboard-teacher fs20 csrPointer",on:{click:function(t){t.preventDefault(),e.showInstructions=!0}}}),i("i",{staticClass:"fas fa-filter fs20 csrPointer",on:{click:function(t){t.preventDefault(),e.showFilters=!e.showFilters}}}),i("i",{staticClass:"fas fa-thumbs-up fs20 csrPointer",on:{click:function(t){return t.preventDefault(),e.reviewMediaYes(t)}}}),i("i",{staticClass:"fas fa-question-circle fs20 csrPointer",on:{click:function(t){return t.preventDefault(),e.reviewMediaUndecided(t)}}}),i("i",{staticClass:"fas fa-thumbs-down fs20 csrPointer",on:{click:function(t){return t.preventDefault(),e.reviewMediaNo(t)}}}),i("i",{staticClass:"fas fa-trash fs20 csrPointer",on:{click:function(t){return t.preventDefault(),e.resetAll(t)}}})])]),i("div",{staticClass:"mxAuto mb10 posRelative overflowHidden posterSize",attrs:{id:"swipeContainer"}},[e.currentMediaList.length>0&&e.currentMediaList[e.currentIndex]?i("div",{staticClass:"flex posAbsolute",style:{left:e.slidesX+"px"},attrs:{id:"slides"}},[e._m(0),i("div",{staticClass:"posRelative posterSize csrPointer",attrs:{id:"posterContainer"},on:{mousedown:function(t){return t.preventDefault(),e.mouseDown(t)},touchstart:function(t){return t.preventDefault(),e.touchStart(t)}}},[i("img",{staticClass:"posterSize",attrs:{id:"poster",src:"https://image.tmdb.org/t/p/w500"+e.currentMediaList[e.currentIndex].poster_path}}),e.currentMediaList===e.mediaYes?i("div",{staticClass:"flex justifyCenter alignCenter posterSize"},[i("div",{staticClass:"posAbsolute top0 posterSize bgBlack opac50"}),e._m(1)]):e._e(),e.currentMediaList===e.mediaNo?i("div",{staticClass:"flex justifyCenter alignCenter posterSize"},[i("div",{staticClass:"posAbsolute top0 posterSize bgBlack opac50"}),e._m(2)]):e._e()]),e._m(3)]):e._e(),0===e.mediaUndecided.length&&1===e.mediaYes.length?i("img",{staticClass:"posterSize",attrs:{src:"https://image.tmdb.org/t/p/w500"+e.mediaYes[0].poster_path},on:{mousedown:function(e){e.preventDefault()}}}):e._e()]),i("div",[i("p",{staticClass:"mb10"},[e._v(e._s(e.mediaTotal)+" movies to swipe.")]),i("p",{staticClass:"mb10"},[e._v(e._s(e.mediaYes.length)+" swiped right.")]),i("p",[e._v(e._s(e.mediaNo.length)+" swiped left.")])]),i("Menu",{staticClass:"bgWhite",attrs:{id:"instructions",open:e.showInstructions},on:{close:function(t){e.showInstructions=!1}}},[i("p",[e._v("Swipe right to keep a movie in consideration.")]),i("p",[e._v("Swipe left to dismiss.")]),i("p",[e._v("Keep swiping until you've found the movie to watch.")]),i("p",[e._v("Use filters to focus your search.")])]),i("Menu",{staticClass:"bgWhite",attrs:{id:"filters",open:e.showFilters},on:{close:e.updateFilters}},[i("div",{staticClass:"flex flexWrap mt10"},[i("select",{directives:[{name:"model",rawName:"v-model",value:e.params.primary_release_year,expression:"params.primary_release_year"}],staticClass:"mr10",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.params,"primary_release_year",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v("Any Year")]),e._l(e.years,function(t,s){return i("option",{key:s,domProps:{value:t}},[e._v(e._s(t))])})],2),i("select",{directives:[{name:"model",rawName:"v-model",value:e.params.with_genres,expression:"params.with_genres"}],staticClass:"mr10",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.params,"with_genres",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v("Any Genre")]),e._l(e.genres,function(t,s){return i("option",{key:s,domProps:{value:t.id}},[e._v(e._s(t.name))])})],2),i("select",{directives:[{name:"model",rawName:"v-model",value:e.params.certification,expression:"params.certification"}],staticClass:"mr10",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.params,"certification",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v("Any Rating")]),e._l(e.ratings,function(t,s){return i("option",{key:s,domProps:{value:t}},[e._v(e._s(t))])})],2),i("select",{staticClass:"mr10",on:{change:function(t){return t.preventDefault(),e.updateStarsMinimum(t)}}},[i("option",{attrs:{value:""}},[e._v("Any Minimum Stars")]),e._l(e.stars,function(t,s){return i("option",{key:s,domProps:{value:t.min}},[e._v(e._s(t.label))])})],2),i("select",{staticClass:"mr10",on:{change:function(t){return t.preventDefault(),e.updateStarsExact(t)}}},[i("option",{attrs:{value:""}},[e._v("Any Exact Stars")]),e._l(e.stars,function(t,s){return i("option",{key:s,attrs:{"data-max":t.max,"data-min":t.min}},[e._v(e._s(t.label))])})],2)])])],1),i("div",{staticClass:"flex",attrs:{id:"debug"}},[i("pre",[e._v("      "),i("p",[e._v("current ("+e._s(e.currentMediaList.length)+"):")]),e._v("\n      "+e._s(e.currentMediaList)+"\n    ")]),i("pre",[e._v("      "),i("p",[e._v("undecided ("+e._s(e.mediaUndecided.length)+"):")]),e._v("\n      "+e._s(e.mediaUndecided)+"\n    ")]),i("pre",[e._v("      "),i("p",[e._v("yes ("+e._s(e.mediaYes.length)+"):")]),e._v("\n      "+e._s(e.mediaYes)+"\n    ")]),i("pre",[e._v("      "),i("p",[e._v("no ("+e._s(e.mediaNo.length)+"):")]),e._v("\n      "+e._s(e.mediaNo)+"\n    ")])])])},a=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"flex justifyCenter alignCenter bgGreen posterSize",attrs:{id:"preserve"}},[i("i",{staticClass:"txtGreen fas fa-thumbs-up fs165"})])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"posAbsolute top0 flex justifyCenter alignCenter posterSize"},[i("i",{staticClass:"fas fa-thumbs-up fs165 txtGreen"})])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"posAbsolute top0 flex justifyCenter alignCenter posterSize"},[i("i",{staticClass:"fas fa-thumbs-down fs165 txtRed"})])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"flex justifyCenter alignCenter bgRed posterSize",attrs:{id:"dismiss"}},[i("i",{staticClass:"txtRed fas fa-thumbs-down fs165"})])}],r=(i("ac6a"),"543ead37f942798d447c54bdcd0e978a"),o=i("bc3a"),l={getGenres:function(){return o.get("https://api.themoviedb.org/3/genre/movie/list",{params:{api_key:r}})},getMovies:function(e){return e.api_key=r,o.get("https://api.themoviedb.org/3/discover/movie",{params:e})}},u=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.open?i("div",{staticClass:"bsBorder p20 posAbsolute menu"},[i("div",{staticClass:"flex flexEnd"},[i("i",{staticClass:"fas fa-times-circle fs20 csrPointer",on:{click:function(t){e.$emit("close")}}})]),e._t("default")],2):e._e()},c=[],d={name:"Menu",props:{open:Boolean,default:!1}},h=d,p=(i("a6d0"),i("2877")),m=Object(p["a"])(h,u,c,!1,null,"56630a8f",null);m.options.__file="Menu.vue";var f=m.exports,v={name:"app",components:{Menu:f},data:function(){return{containerX:null,currentIndex:0,currentMediaList:[],genres:[],mediaNo:[],mediaTotal:null,mediaUndecided:[],mediaYes:[],mousedownX:null,offset:null,pagesTotal:null,params:{certification_country:"US",certification:"",certification_lte:null,include_adult:!1,include_video:!1,language:"en-US",page:0,"primary_release_date.gte":null,"primary_release_date.lte":null,primary_release_year:"",region:"US","release_date.gte":null,"release_date.lte":null,sort_by:null,"vote_average.gte":null,"vote_average.lte":null,"vote_count.gte":null,"vote_count.lte":null,with_cast:null,with_companies:null,with_crew:null,with_genres:"",with_keywords:null,without_genres:null,with_people:null,with_release_type:null,"with_runtime.gte":null,"with_runtime.lte":null,with_original_language:null,without_keywords:null,year:null},ratings:["G","PG","PG-13","R","NC-17","NR"],showFilters:!1,showInstructions:!1,slidesX:null,slideWidth:null,stars:[{label:"5 Stars",max:10,min:9},{label:"4+ Stars",max:8.9,min:8},{label:"3+ Stars",max:7.9,min:6},{label:"2+ Stars",max:5.9,min:4},{label:"1+ Star",max:3.9,min:2},{label:"0+ Stars",max:1.9,min:0}]}},computed:{years:function(){for(var e=[],t=new Date,i=t.getFullYear();i>=1874;i--)e.push(i);return e}},methods:{checkCurrentList:function(){this.currentIndex>=this.currentMediaList.length&&(this.currentMediaList===this.mediaYes?this.mediaUndecided.length>0&&this.reviewMediaUndecided():this.currentMediaList===this.mediaNo?this.mediaUndecided.length>0?this.reviewMediaUndecided():this.reviewMediaYes():this.params.page<this.pagesTotal?this.getMovies():this.mediaYes.length>0&&this.reviewMediaYes())},dismissMedia:function(){this.currentMediaList===this.mediaYes?(this.mediaNo.push(this.currentMediaList[this.currentIndex]),this.currentMediaList.splice(this.currentIndex,1)):this.currentMediaList===this.mediaNo?this.currentIndex++:(this.mediaNo.push(this.currentMediaList[this.currentIndex]),this.currentMediaList.splice(this.currentIndex,1),this.mediaTotal--),this.checkCurrentList(),setTimeout(this.showNextPoster,500)},getGenres:function(){var e=this;l.getGenres().then(function(t){e.genres=t.data.genres})},getMovies:function(){var e=this;this.params.page++,l.getMovies(this.params).then(function(t){e.mediaTotal=e.mediaTotal?e.mediaTotal:t.data.total_results,e.pagesTotal=t.data.total_pages,t.data.results.forEach(function(t){e.mediaUndecided.push(t)}),e.currentMediaList=e.mediaUndecided})},mouseDown:function(e){(this.mediaUndecided.length>0||this.mediaYes.length>0)&&(this.mousedownX=e.clientX,this.offset=this.slideWidth+e.clientX-this.containerX)},mouseMove:function(e){if(this.offset){var t=e.clientX-this.containerX,i=t-this.offset;i<0-2*this.slideWidth?i=0-2*this.slideWidth:i>0&&(i=0),this.slidesX=i}},mouseUp:function(e){this.offset&&(e.clientX>this.mousedownX+10?(this.slidesX=0,this.preserveMedia()):e.clientX<this.mousedownX-10?(this.slidesX=0-2*this.slideWidth,this.dismissMedia()):this.slidesX=0-this.slideWidth,this.offset=null)},preserveMedia:function(){this.currentMediaList===this.mediaYes?this.currentIndex++:this.currentMediaList===this.mediaNo?(this.mediaYes.unshift(this.currentMediaList[this.currentIndex]),this.currentMediaList.splice(this.currentIndex,1)):(this.mediaYes.push(this.currentMediaList[this.currentIndex]),this.currentMediaList.splice(this.currentIndex,1),this.mediaTotal--),this.checkCurrentList(),setTimeout(this.showNextPoster,500)},resetAll:function(){var e=confirm("Are you sure you want to permanently clear your selections and filters?");e&&(this.currentIndex=0,this.mediaUndecided=[],this.mediaYes=[],this.mediaNo=[],this.resetParams(),this.getMovies())},resetParams:function(){this.params={certification_country:"US",certification:"",certification_lte:null,include_adult:!1,include_video:!1,language:"en-US",page:0,"primary_release_date.gte":null,"primary_release_date.lte":null,primary_release_year:"",region:"US","release_date.gte":null,"release_date.lte":null,sort_by:null,"vote_average.gte":null,"vote_average.lte":null,"vote_count.gte":null,"vote_count.lte":null,with_cast:null,with_companies:null,with_crew:null,with_genres:"",with_keywords:null,without_genres:null,with_people:null,with_release_type:null,"with_runtime.gte":null,"with_runtime.lte":null,with_original_language:null,without_keywords:null,year:null}},reviewMediaNo:function(){this.mediaNo.length>0?(this.currentMediaList=this.mediaNo,this.currentIndex=0):(alert("There are no dismissed movies to reconsider. Swipe left to dismiss a movie."),this.reviewMediaUndecided())},reviewMediaUndecided:function(){this.mediaUndecided.length>0?(this.currentMediaList=this.mediaUndecided,this.currentIndex=0):(alert("All movies matching your filters have been swiped. Now it's time to make some tough choices. Swipe left to dismiss."),this.reviewMediaYes())},reviewMediaYes:function(){this.mediaYes.length>0?(this.currentMediaList=this.mediaYes,this.currentIndex=0):(alert("There are no approved movies to dismiss. Swipe right to add movies to consider."),this.reviewMediaUndecided())},showNextPoster:function(){this.slidesX=0-this.slideWidth},touchCancel:function(){this.slidesX=0-this.slideWidth,this.offset=null},touchEnd:function(e){this.mouseUp(e.changedTouches[0])},touchMove:function(e){e.touches.length>1?this.touchCancel():this.mouseMove(e.changedTouches[0])},touchStart:function(e){e.touches.length>1?this.touchCancel():this.mouseDown(e.touches[0])},updateFilters:function(){this.showFilters=!1,this.currentIndex=0,this.params.page=0,this.mediaUndecided=[],this.mediaTotal=null,this.getMovies()},updateStarsExact:function(e){var t=e.target.options[e.target.selectedIndex].dataset.max,i=e.target.options[e.target.selectedIndex].dataset.min;this.params["vote_average.gte"]=i,this.params["vote_average.lte"]=t,this.updateFilters()},updateStarsMinimum:function(e){var t=e.target.value;this.params["vote_average.gte"]=t,this.updateFilters()},checkWindowSize:function(){this.slideWidth=window.innerWidth>480?480:window.innerWidth-20,this.slidesX=0-this.slideWidth}},mounted:function(){this.containerX=document.getElementById("swipeContainer").getBoundingClientRect().left,this.resetParams(),this.getGenres(),this.getMovies(),document.addEventListener("mousemove",this.mouseMove),document.addEventListener("mouseup",this.mouseUp),document.getElementById("swipeContainer").addEventListener("touchmove",this.touchMove),document.getElementById("swipeContainer").addEventListener("touchend",this.touchEnd),document.getElementById("swipeContainer").addEventListener("touchcancel",this.touchCancel),window.addEventListener("resize",this.checkWindowSize),this.checkWindowSize()}},_=v,g=(i("5ee5"),Object(p["a"])(_,n,a,!1,null,"6f4b9eea",null));g.options.__file="App.vue";var w=g.exports;s["a"].config.productionTip=!1,new s["a"]({render:function(e){return e(w)}}).$mount("#app")},"5ee5":function(e,t,i){"use strict";var s=i("b87f"),n=i.n(s);n.a},a6d0:function(e,t,i){"use strict";var s=i("4c97"),n=i.n(s);n.a},b87f:function(e,t,i){}});
//# sourceMappingURL=app.5effacf3.js.map