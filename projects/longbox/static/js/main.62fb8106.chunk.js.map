{"version":3,"sources":["components/AddIssueForm.jsx","components/EditIssueForm.jsx","components/SignInForm.jsx","utils.js","App.js","index.js"],"names":["AddIssueForm","_this","this","contributors","props","issue","map","contributor","index","react_default","a","createElement","key","className","htmlFor","concat","data-contributor-id","id","data-contributor-index","data-contributor-key","name","onBlur","handleInputBlur","onChange","handleContributorTextChange","onFocus","onKeyDown","handleInputKeyDown","value","creator_type","creator","onSubmit","addIssue","title","number","aria-hidden","onClick","handleClose","checked","is_read","handleIssueCheckboxChange","type","is_owned","is_color","handleIssueTextChange","sort_title","publisher","year","format","notes","addContributor","user","isAdmin","React","Component","EditIssueForm","creator_type_id","creator_id","updateIssue","title_id","readOnly","publisher_id","format_id","SignInForm","signIn","placeholder","username","handleLoginChange","password","PureComponent","getCookie","cookies","document","cookie","split","isSignedIn","md5","forEach","parts","JSON","parse","decodeURIComponent","setCookie","stringify","getNullableBoolean","input","output","expirationDate","path","arguments","length","undefined","Date","setHours","getHours","App","Object","classCallCheck","_super","call","state","push","setState","event","preventDefault","data","params","axios","get","then","response","showAddIssueForm","showEditIssueForm","getIssues","autocomplete","_ref","asyncToGenerator","regenerator_default","mark","_callee","rectangle","url","_args","wrap","_context","prev","next","order_by","querySelector","getBoundingClientRect","style","left","top","window","scrollY","height","width","t0","abrupt","cancelToken","token","results","result","catch","error","sent","slice","stop","_x","_x2","apply","clearSearch","search","any","cancel","CancelToken","source","issues","objectSpread2","utils","handleAddIssueFormClose","contributorId","target","dataset","contributorIndex","parseInt","contributorKey","_callee2","isMatch","_context2","autocompleteIndex","autocompleteKey","setTimeout","assign","_ref3","_callee4","_context4","_callee3","_context3","_x3","keyCode","which","login","handleSearchChange","handleSuggestionClick","innerHTML","setIssue","issueId","scrollTo","hash","success","showSignInForm","signOut","toggleShowSignInForm","toggleShowAddIssueForm","issueDefault","_this2","digits","toString","signInOutButton","location","reload","components_SignInForm","components_AddIssueForm","components_EditIssueForm","padStart","suggestion","ReactDOM","render","src_App","getElementById"],"mappings":"yRAoMeA,yKAjMJ,IAAAC,EAAAC,KACDC,EAAeD,KAAKE,MAAMC,MAAMF,aAAeD,KAAKE,MAAMC,MAAMF,aAAaG,IAAI,SAACC,EAAaC,GACnG,OACEC,EAAAC,EAAAC,cAAA,OAAKC,IAAKJ,EAAOK,UAAU,kBACzBJ,EAAAC,EAAAC,cAAA,OAAKE,UAAU,aACbJ,EAAAC,EAAAC,cAAA,SAAOG,QAAO,eAAAC,OAAiBP,IAA/B,QACAC,EAAAC,EAAAC,cAAA,SACAE,UAAU,2BACVG,sBAAqBT,EAAYU,GACjCC,yBAAwBV,EACxBW,uBAAqB,eACrBF,GAAE,eAAAF,OAAiBP,GACnBY,KAAI,eAAAL,OAAiBP,GACrBa,OAAQpB,EAAKG,MAAMkB,gBACnBC,SAAUtB,EAAKG,MAAMoB,4BACrBC,QAASxB,EAAKG,MAAMoB,4BACpBE,UAAWzB,EAAKG,MAAMuB,mBACtBC,MAAOrB,EAAYsB,gBAGrBpB,EAAAC,EAAAC,cAAA,OAAKE,UAAU,SACbJ,EAAAC,EAAAC,cAAA,SAAOG,QAAO,UAAAC,OAAYP,IAA1B,QACAC,EAAAC,EAAAC,cAAA,SACAE,UAAU,2BACVG,sBAAqBT,EAAYU,GACjCC,yBAAwBV,EACxBW,uBAAqB,UACrBF,GAAE,UAAAF,OAAYP,GACdY,KAAI,UAAAL,OAAYP,GAChBa,OAAQpB,EAAKG,MAAMkB,gBACnBC,SAAUtB,EAAKG,MAAMoB,4BACrBC,QAASxB,EAAKG,MAAMoB,4BACpBE,UAAWzB,EAAKG,MAAMuB,mBACtBC,MAAOrB,EAAYuB,cAKtB,GAEL,OACErB,EAAAC,EAAAC,cAAA,QACAE,UAAU,0BACVI,GAAG,QACHc,SAAU7B,KAAKE,MAAM4B,UAEnBvB,EAAAC,EAAAC,cAAA,OAAKE,UAAU,sCACbJ,EAAAC,EAAAC,cAAA,MAAIE,UAAU,QACXX,KAAKE,MAAMC,MAAM4B,MACjB/B,KAAKE,MAAMC,MAAM6B,QAAjB,KAAAnB,OAAgCb,KAAKE,MAAMC,MAAM6B,SAEpDzB,EAAAC,EAAAC,cAAA,KAAGwB,eAAa,EAAMtB,UAAU,iCAAiCuB,QAASlC,KAAKE,MAAMiC,eAEvF5B,EAAAC,EAAAC,cAAA,OAAKE,UAAU,0BACbJ,EAAAC,EAAAC,cAAA,OAAKE,UAAU,QACbJ,EAAAC,EAAAC,cAAA,SACA2B,QAASpC,KAAKE,MAAMC,MAAMkC,QAC1B1B,UAAU,kBACVI,GAAG,UACHG,KAAK,UACLG,SAAUrB,KAAKE,MAAMoC,0BACrBC,KAAK,aAELhC,EAAAC,EAAAC,cAAA,SAAOG,QAAQ,WAAf,SAEFL,EAAAC,EAAAC,cAAA,OAAKE,UAAU,QACbJ,EAAAC,EAAAC,cAAA,SACA2B,QAASpC,KAAKE,MAAMC,MAAMqC,SAC1B7B,UAAU,kBACVI,GAAG,WACHG,KAAK,WACLG,SAAUrB,KAAKE,MAAMoC,0BACrBC,KAAK,aAELhC,EAAAC,EAAAC,cAAA,SAAOG,QAAQ,YAAf,UAEFL,EAAAC,EAAAC,cAAA,OAAKE,UAAU,QACbJ,EAAAC,EAAAC,cAAA,SACA2B,QAASpC,KAAKE,MAAMC,MAAMsC,SAC1B9B,UAAU,kBACVI,GAAG,WACHG,KAAK,WACLG,SAAUrB,KAAKE,MAAMoC,0BACrBC,KAAK,aAELhC,EAAAC,EAAAC,cAAA,SAAOG,QAAQ,YAAf,WAGJL,EAAAC,EAAAC,cAAA,OAAKE,UAAU,aACbJ,EAAAC,EAAAC,cAAA,OAAKE,UAAU,cACbJ,EAAAC,EAAAC,cAAA,SAAOG,QAAQ,SAAf,SACAL,EAAAC,EAAAC,cAAA,SACAE,UAAU,2BACVI,GAAG,QACHG,KAAK,QACLC,OAAQnB,KAAKE,MAAMkB,gBACnBC,SAAUrB,KAAKE,MAAMwC,sBACrBnB,QAASvB,KAAKE,MAAMwC,sBACpBlB,UAAWxB,KAAKE,MAAMuB,mBACtBC,MAAO1B,KAAKE,MAAMC,MAAM4B,SAG1BxB,EAAAC,EAAAC,cAAA,OAAKE,UAAU,QACbJ,EAAAC,EAAAC,cAAA,SAAOG,QAAQ,UAAf,UACAL,EAAAC,EAAAC,cAAA,SACAE,UAAU,2BACVI,GAAG,SACHG,KAAK,SACLC,OAAQnB,KAAKE,MAAMkB,gBACnBC,SAAUrB,KAAKE,MAAMwC,sBACrBnB,QAASvB,KAAKE,MAAMwC,sBACpBhB,MAAO1B,KAAKE,MAAMC,MAAM6B,QAAU,OAItCzB,EAAAC,EAAAC,cAAA,OAAKE,UAAU,cACbJ,EAAAC,EAAAC,cAAA,SAAOG,QAAQ,cAAf,cACAL,EAAAC,EAAAC,cAAA,SACAE,UAAU,2BACVI,GAAG,aACHG,KAAK,aACLC,OAAQnB,KAAKE,MAAMkB,gBACnBC,SAAUrB,KAAKE,MAAMwC,sBACrBnB,QAASvB,KAAKE,MAAMwC,sBACpBhB,MAAO1B,KAAKE,MAAMC,MAAMwC,cAG1BpC,EAAAC,EAAAC,cAAA,OAAKE,UAAU,QACbJ,EAAAC,EAAAC,cAAA,SAAOG,QAAQ,aAAf,aACAL,EAAAC,EAAAC,cAAA,SACAE,UAAU,2BACVI,GAAG,YACHG,KAAK,YACLC,OAAQnB,KAAKE,MAAMkB,gBACnBC,SAAUrB,KAAKE,MAAMwC,sBACrBnB,QAASvB,KAAKE,MAAMwC,sBACpBlB,UAAWxB,KAAKE,MAAMuB,mBACtBC,MAAO1B,KAAKE,MAAMC,MAAMyC,WAAa,MAGvCrC,EAAAC,EAAAC,cAAA,OAAKE,UAAU,QACbJ,EAAAC,EAAAC,cAAA,SAAOG,QAAQ,QAAf,QACAL,EAAAC,EAAAC,cAAA,SACAE,UAAU,2BACVI,GAAG,OACHG,KAAK,OACLG,SAAUrB,KAAKE,MAAMwC,sBACrBhB,MAAO1B,KAAKE,MAAMC,MAAM0C,MAAQ,MAGlCtC,EAAAC,EAAAC,cAAA,OAAKE,UAAU,QACbJ,EAAAC,EAAAC,cAAA,SAAOG,QAAQ,UAAf,UACAL,EAAAC,EAAAC,cAAA,SACAE,UAAU,2BACVI,GAAG,SACHG,KAAK,SACLC,OAAQnB,KAAKE,MAAMkB,gBACnBC,SAAUrB,KAAKE,MAAMwC,sBACrBnB,QAASvB,KAAKE,MAAMwC,sBACpBlB,UAAWxB,KAAKE,MAAMuB,mBACtBC,MAAO1B,KAAKE,MAAMC,MAAM2C,UAG1BvC,EAAAC,EAAAC,cAAA,OAAKE,UAAU,QACbJ,EAAAC,EAAAC,cAAA,SAAOG,QAAQ,SAAf,SACAL,EAAAC,EAAAC,cAAA,YACAE,UAAU,2BACVI,GAAG,QACHG,KAAK,QACLG,SAAUrB,KAAKE,MAAMwC,sBACrBhB,MAAO1B,KAAKE,MAAMC,MAAM4C,SAG1BxC,EAAAC,EAAAC,cAAA,OAAKM,GAAG,gBACNR,EAAAC,EAAAC,cAAA,6BACCR,EACDM,EAAAC,EAAAC,cAAA,KAAGwB,eAAa,EAAMtB,UAAS,mCAAsCuB,QAASlC,KAAKE,MAAM8C,kBAE1FhD,KAAKE,MAAM+C,KAAKC,SACf3C,EAAAC,EAAAC,cAAA,OAAKE,UAAU,qBACbJ,EAAAC,EAAAC,cAAA,UACAE,UAAU,yBACV4B,KAAK,UAFL,yBArLeY,IAAMC,WC8MlBC,yKA7MJ,IAAAtD,EAAAC,KACDC,EAAeD,KAAKE,MAAMC,MAAMF,aAAeD,KAAKE,MAAMC,MAAMF,aAAaG,IAAI,SAACC,EAAaC,GACnG,OACEC,EAAAC,EAAAC,cAAA,OAAKC,IAAKL,EAAYU,GAAIJ,UAAU,kBAClCJ,EAAAC,EAAAC,cAAA,OAAKE,UAAU,aACbJ,EAAAC,EAAAC,cAAA,OAAKE,UAAU,QACbJ,EAAAC,EAAAC,cAAA,SAAOE,UAAU,MAAMC,QAAO,eAAAC,OAAiBP,IAA/C,QACAC,EAAAC,EAAAC,cAAA,gBAAQJ,EAAYiD,gBAApB,MAEF/C,EAAAC,EAAAC,cAAA,SACAE,UAAU,2BACVG,sBAAqBT,EAAYU,GACjCC,yBAAwBV,EACxBW,uBAAqB,eACrBF,GAAE,eAAAF,OAAiBP,GACnBY,KAAI,eAAAL,OAAiBP,GACrBa,OAAQpB,EAAKG,MAAMkB,gBACnBC,SAAUtB,EAAKG,MAAMoB,4BACrBC,QAASxB,EAAKG,MAAMoB,4BACpBE,UAAWzB,EAAKG,MAAMuB,mBACtBC,MAAOrB,EAAYsB,gBAGrBpB,EAAAC,EAAAC,cAAA,OAAKE,UAAU,SACbJ,EAAAC,EAAAC,cAAA,OAAKE,UAAU,QACbJ,EAAAC,EAAAC,cAAA,SAAOE,UAAU,MAAMC,QAAO,UAAAC,OAAYP,IAA1C,QACAC,EAAAC,EAAAC,cAAA,gBAAQJ,EAAYkD,WAApB,MAEFhD,EAAAC,EAAAC,cAAA,SACAE,UAAU,2BACVG,sBAAqBT,EAAYU,GACjCC,yBAAwBV,EACxBW,uBAAqB,UACrBF,GAAE,UAAAF,OAAYP,GACdY,KAAI,UAAAL,OAAYP,GAChBa,OAAQpB,EAAKG,MAAMkB,gBACnBC,SAAUtB,EAAKG,MAAMoB,4BACrBC,QAASxB,EAAKG,MAAMoB,4BACpBE,UAAWzB,EAAKG,MAAMuB,mBACtBC,MAAOrB,EAAYuB,cAKtB,GAEL,OACErB,EAAAC,EAAAC,cAAA,QACAE,UAAU,0BACVI,GAAG,QACHc,SAAU7B,KAAKE,MAAMsD,aAEnBjD,EAAAC,EAAAC,cAAA,OAAKE,UAAU,sCACbJ,EAAAC,EAAAC,cAAA,MAAIE,UAAU,QACXX,KAAKE,MAAMC,MAAM4B,MACjB/B,KAAKE,MAAMC,MAAM6B,QAAjB,KAAAnB,OAAgCb,KAAKE,MAAMC,MAAM6B,SAEpDzB,EAAAC,EAAAC,cAAA,KAAGwB,eAAa,EAAMtB,UAAU,iCAAiCuB,QAASlC,KAAKE,MAAMiC,eAEvF5B,EAAAC,EAAAC,cAAA,OAAKE,UAAU,0BACbJ,EAAAC,EAAAC,cAAA,OAAKE,UAAU,QACbJ,EAAAC,EAAAC,cAAA,SACA2B,QAASpC,KAAKE,MAAMC,MAAMkC,QAC1B1B,UAAU,kBACVI,GAAG,UACHG,KAAK,UACLG,SAAUrB,KAAKE,MAAMoC,0BACrBC,KAAK,aAELhC,EAAAC,EAAAC,cAAA,SAAOG,QAAQ,UAAUD,UAAS,GAAAE,OAAkC,OAA7Bb,KAAKE,MAAMC,MAAMkC,QAAmB,SAAW,KAAtF,SAEF9B,EAAAC,EAAAC,cAAA,OAAKE,UAAU,QACbJ,EAAAC,EAAAC,cAAA,SACA2B,QAASpC,KAAKE,MAAMC,MAAMqC,SAC1B7B,UAAU,kBACVI,GAAG,WACHG,KAAK,WACLG,SAAUrB,KAAKE,MAAMoC,0BACrBC,KAAK,aAELhC,EAAAC,EAAAC,cAAA,SAAOG,QAAQ,WAAWD,UAAS,GAAAE,OAAmC,OAA9Bb,KAAKE,MAAMC,MAAMqC,SAAoB,SAAW,KAAxF,UAEFjC,EAAAC,EAAAC,cAAA,OAAKE,UAAU,QACbJ,EAAAC,EAAAC,cAAA,SACA2B,QAASpC,KAAKE,MAAMC,MAAMsC,SAC1B9B,UAAU,kBACVI,GAAG,WACHG,KAAK,WACLG,SAAUrB,KAAKE,MAAMoC,0BACrBC,KAAK,aAELhC,EAAAC,EAAAC,cAAA,SAAOG,QAAQ,WAAWD,UAAS,GAAAE,OAAmC,OAA9Bb,KAAKE,MAAMC,MAAMsC,SAAoB,SAAW,KAAxF,WAGJlC,EAAAC,EAAAC,cAAA,OAAKE,UAAU,aACbJ,EAAAC,EAAAC,cAAA,OAAKE,UAAU,cACbJ,EAAAC,EAAAC,cAAA,OAAKE,UAAU,QACbJ,EAAAC,EAAAC,cAAA,SAAOE,UAAU,MAAMC,QAAQ,SAA/B,SACAL,EAAAC,EAAAC,cAAA,gBAAQT,KAAKE,MAAMC,MAAMsD,SAAzB,MAEFlD,EAAAC,EAAAC,cAAA,SACAE,UAAU,2BACVI,GAAG,QACHG,KAAK,QACLC,OAAQnB,KAAKE,MAAMkB,gBACnBC,SAAUrB,KAAKE,MAAMwC,sBACrBnB,QAASvB,KAAKE,MAAMwC,sBACpBlB,UAAWxB,KAAKE,MAAMuB,mBACtBC,MAAO1B,KAAKE,MAAMC,MAAM4B,SAG1BxB,EAAAC,EAAAC,cAAA,OAAKE,UAAU,aACbJ,EAAAC,EAAAC,cAAA,SAAOG,QAAQ,UAAf,UACAL,EAAAC,EAAAC,cAAA,SACAE,UAAU,2BACVI,GAAG,SACHG,KAAK,SACLC,OAAQnB,KAAKE,MAAMkB,gBACnBC,SAAUrB,KAAKE,MAAMwC,sBACrBhB,MAAO1B,KAAKE,MAAMC,MAAM6B,QAAU,OAItCzB,EAAAC,EAAAC,cAAA,OAAKE,UAAU,cACbJ,EAAAC,EAAAC,cAAA,SAAOG,QAAQ,cAAf,cACAL,EAAAC,EAAAC,cAAA,SACAE,UAAU,2BACVI,GAAG,aACHG,KAAK,aACLwC,UAAU,EACVhC,MAAO1B,KAAKE,MAAMC,MAAMwC,cAG1BpC,EAAAC,EAAAC,cAAA,OAAKE,UAAU,QACbJ,EAAAC,EAAAC,cAAA,OAAKE,UAAU,QACbJ,EAAAC,EAAAC,cAAA,SAAOE,UAAU,MAAMC,QAAQ,aAA/B,aACAL,EAAAC,EAAAC,cAAA,gBAAQT,KAAKE,MAAMC,MAAMwD,aAAzB,MAEFpD,EAAAC,EAAAC,cAAA,SACAE,UAAU,2BACVI,GAAG,YACHG,KAAK,YACLC,OAAQnB,KAAKE,MAAMkB,gBACnBC,SAAUrB,KAAKE,MAAMwC,sBACrBnB,QAASvB,KAAKE,MAAMwC,sBACpBlB,UAAWxB,KAAKE,MAAMuB,mBACtBC,MAAO1B,KAAKE,MAAMC,MAAMyC,WAAa,MAGvCrC,EAAAC,EAAAC,cAAA,OAAKE,UAAU,QACbJ,EAAAC,EAAAC,cAAA,SAAOG,QAAQ,QAAf,QACAL,EAAAC,EAAAC,cAAA,SACAE,UAAU,2BACVI,GAAG,OACHG,KAAK,OACLG,SAAUrB,KAAKE,MAAMwC,sBACrBhB,MAAO1B,KAAKE,MAAMC,MAAM0C,MAAQ,MAGlCtC,EAAAC,EAAAC,cAAA,OAAKE,UAAU,QACbJ,EAAAC,EAAAC,cAAA,OAAKE,UAAU,QACbJ,EAAAC,EAAAC,cAAA,SAAOE,UAAU,MAAMC,QAAQ,UAA/B,UACAL,EAAAC,EAAAC,cAAA,gBAAQT,KAAKE,MAAMC,MAAMyD,UAAzB,MAEFrD,EAAAC,EAAAC,cAAA,SACAE,UAAU,2BACVI,GAAG,SACHG,KAAK,SACLC,OAAQnB,KAAKE,MAAMkB,gBACnBC,SAAUrB,KAAKE,MAAMwC,sBACrBnB,QAASvB,KAAKE,MAAMwC,sBACpBlB,UAAWxB,KAAKE,MAAMuB,mBACtBC,MAAO1B,KAAKE,MAAMC,MAAM2C,UAG1BvC,EAAAC,EAAAC,cAAA,OAAKE,UAAU,QACbJ,EAAAC,EAAAC,cAAA,SAAOG,QAAQ,SAAf,SACAL,EAAAC,EAAAC,cAAA,YACAE,UAAU,2BACVI,GAAG,QACHG,KAAK,QACLG,SAAUrB,KAAKE,MAAMwC,sBACrBhB,MAAO1B,KAAKE,MAAMC,MAAM4C,SAG1BxC,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,6BACCR,EACDM,EAAAC,EAAAC,cAAA,KAAGwB,eAAa,EAAMtB,UAAS,mCAAsCuB,QAASlC,KAAKE,MAAM8C,kBAE1FhD,KAAKE,MAAM+C,KAAKC,SACf3C,EAAAC,EAAAC,cAAA,OAAKE,UAAU,qBACbJ,EAAAC,EAAAC,cAAA,UACAE,UAAU,yBACV4B,KAAK,UAFL,yBAjMgBY,IAAMC,WCkBnBS,yKAhBX,OACEtD,EAAAC,EAAAC,cAAA,QAAMM,GAAG,aAAac,SAAU7B,KAAKE,MAAM4D,OAAQnD,UAAU,YAC3DJ,EAAAC,EAAAC,cAAA,OAAKE,UAAU,0BACbJ,EAAAC,EAAAC,cAAA,OAAKE,UAAU,cACbJ,EAAAC,EAAAC,cAAA,SAAO8B,KAAK,OAAOrB,KAAK,WAAW6C,YAAY,WAAWrC,MAAO1B,KAAKE,MAAM8D,SAAU3C,SAAUrB,KAAKE,MAAM+D,kBAAmBtD,UAAU,+BAE1IJ,EAAAC,EAAAC,cAAA,OAAKE,UAAU,UACbJ,EAAAC,EAAAC,cAAA,SAAO8B,KAAK,WAAWrB,KAAK,WAAW6C,YAAY,WAAWrC,MAAO1B,KAAKE,MAAMgE,SAAU7C,SAAUrB,KAAKE,MAAM+D,kBAAmBtD,UAAU,gCAGhJJ,EAAAC,EAAAC,cAAA,UAAQ8B,KAAK,SAAS5B,UAAU,uCAAhC,mBAZiBwC,IAAMgB,eCFlBC,EAAY,WACvB,IAAMC,EAAUC,SAASC,OAAOC,MAAM,MAClCvB,EAAO,CACTC,SAAS,EACTuB,YAAY,EACZC,IAAK,KACLxD,KAAM,MAeR,OAZAmD,EAAQM,QAAQ,SAAAJ,GACd,IAAMK,EAAQL,EAAOC,MAAM,KACrB9D,EAAQkE,EAAM,GACdlD,EAAQkD,EAAM,GAER,SAARlE,GAA4B,KAAVgB,IACpBuB,EAAO4B,KAAKC,MAAMC,mBAAmBrD,IAErCsD,EAAU,OAAQH,KAAKI,UAAUhC,OAI9BA,GAGIiC,EAAqB,SAAAC,GAChC,IAAIC,EAAS,KAQb,MANc,MAAVD,EACFC,GAAS,EACU,MAAVD,IACTC,GAAS,GAGJA,GAGIJ,EAAY,SAAC9D,EAAMQ,EAAO2D,GAA+B,IAAfC,EAAeC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAR,IAC9B,qBAAnBF,IACTA,EAAiB,IAAIK,MACNC,SAASN,EAAeO,WAAa,IAGtDtB,SAASC,OAAT,GAAA1D,OAAqBK,EAArB,KAAAL,OAA6Ba,EAA7B,cAAAb,OAA+CwE,EAA/C,WAAAxE,OAAuEyE,ICqmB1DO,2DAloBb,SAAAA,EAAY3F,GAAO,IAAAH,EAAA,OAAA+F,OAAAC,EAAA,EAAAD,CAAA9F,KAAA6F,IACjB9F,EAAAiG,EAAAC,KAAAjG,KAAME,IAsDR8C,eAAiB,WACf,IAAI7C,EAAQJ,EAAKmG,MAAM/F,MAEvBA,EAAMF,aAAakG,KAAK,CACtBvE,QAAS,GACTD,aAAc,GACdZ,GAAI,OAGNhB,EAAKqG,SAAS,CAACjG,WAhEEJ,EAmEnB+B,SAAW,SAAAuE,GACTA,EAAMC,iBAEN,IAAMC,EAAS,CACbC,OAAQ,CACNxC,SAAUjE,EAAKmG,MAAMjD,KAAK/B,KAC1BwD,IAAU3E,EAAKmG,MAAMjD,KAAKyB,IAC1BvE,MAAUJ,EAAKmG,MAAM/F,QAIzBsG,IAAMC,IAAI,qDAAsDH,GAAMI,KAAK,SAAAC,GACrEA,GACF7G,EAAKqG,SAAS,CACZjG,MAAO,KACP0G,kBAAkB,EAClBC,mBAAmB,GAClB,WACD/G,EAAKgH,iBArFMhH,EA2FnBiH,aA3FmB,eAAAC,EAAAnB,OAAAoB,EAAA,EAAApB,CAAAqB,EAAA3G,EAAA4G,KA2FJ,SAAAC,EAAO3G,EAAKgB,GAAZ,IAAApB,EAAA0G,EAAAT,EAAAe,EAAAC,EAAAC,EAAAjC,UAAA,OAAA4B,EAAA3G,EAAAiH,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAAmBtH,EAAnBkH,EAAAhC,OAAA,QAAAC,IAAA+B,EAAA,GAAAA,EAAA,GAA2B,GACpCR,EAAe,GACbT,EAAO,CACXC,OAAQ,CACNtF,KAAMQ,EACNmG,SAAU,SAGRP,EAAYhD,SAASwD,cAAT,QAAAjH,OAA+BH,EAAMJ,EAArC,OAAgDyH,wBAC9DR,EAAM,GAEVjD,SAASwD,cAAc,iBAAiBE,MAAMC,KAAQX,EAAUW,KAAO,KACvE3D,SAASwD,cAAc,iBAAiBE,MAAME,IAASC,OAAOC,QAAUd,EAAUY,IAAMZ,EAAUe,OAAS,EAAK,KAChH/D,SAASwD,cAAc,iBAAiBE,MAAMM,MAAShB,EAAUgB,MAAQ,EAAK,KAbjEZ,EAAAa,GAeL7H,EAfKgH,EAAAE,KAgBN,YAhBMF,EAAAa,GAAA,GAmBN,iBAnBMb,EAAAa,GAAA,GAsBN,WAtBMb,EAAAa,GAAA,GAyBN,cAzBMb,EAAAa,GAAA,GA4BN,UA5BMb,EAAAa,GAAA,2BAiBThB,EAAM,0DAjBGG,EAAAc,OAAA,2BAoBTjB,EAAM,+DApBGG,EAAAc,OAAA,2BAuBTjB,EAAM,yDAvBGG,EAAAc,OAAA,2BA0BTjB,EAAM,4DA1BGG,EAAAc,OAAA,2BA6BTjB,EAAM,wDA7BGG,EAAAc,OAAA,2BAAAd,EAAAc,OAAA,wBAmCTjB,EAnCS,CAAAG,EAAAE,KAAA,gBAoCP7H,EAAKmG,MAAMuC,cACblC,EAAKkC,YAAc1I,EAAKmG,MAAMuC,YAAYC,OArCjChB,EAAAE,KAAA,GAwCUnB,IAAMC,IAAIa,EAAKhB,GAAMI,KAAK,SAAAC,GAC7C,IAAI+B,EAAU,GAMd,OAJI/B,IACF+B,EAAU/B,EAASL,KAAKoC,QAAQvI,IAAI,SAAAwI,GAAM,OAAIA,EAAO1H,QAGhDyH,IACNE,MAAM,SAAAC,MAhDE,QAwCX9B,EAxCWU,EAAAqB,KAAA,eAAArB,EAAAc,OAAA,SAmDNxB,EAAeA,EAAagC,MAAM,EAAG,GAAK,IAnDpC,yBAAAtB,EAAAuB,SAAA5B,MA3FI,gBAAA6B,EAAAC,GAAA,OAAAlC,EAAAmC,MAAApJ,KAAAuF,YAAA,GAAAxF,EAiJnBsJ,YAAc,WACZ,IAAIC,EAASvJ,EAAKmG,MAAMoD,OAExBA,EAAOC,IAAM,GAETxJ,EAAKmG,MAAMuC,aACb1I,EAAKmG,MAAMuC,YAAYe,SAGzBzJ,EAAKqG,SAAS,CACZqC,YAAahC,IAAMgD,YAAYC,SAC/BC,OAAQ,GACRL,UACC,WACDvJ,EAAKgH,eA/JUhH,EAmKnBgH,UAAY,WACV,IAAMR,EAAO,CACXC,OAAOV,OAAA8D,EAAA,EAAA9D,QAAA8D,EAAA,EAAA9D,CAAA,GACF/F,EAAKmG,MAAMoD,QADV,IAEJzB,SAAU,wBAIV9H,EAAKmG,MAAMuC,cACblC,EAAKkC,YAAc1I,EAAKmG,MAAMuC,YAAYC,OAG5CjC,IAAMC,IAAI,wDAAyDH,GAAMI,KAAK,SAAAC,GACxEA,IACFA,EAASL,KAAKoD,OAAOhB,QAAQhE,QAAQ,SAAAxE,GACnCA,EAAMsC,SAAWoH,EAAyB1J,EAAMsC,UAChDtC,EAAMqC,SAAWqH,EAAyB1J,EAAMqC,UAChDrC,EAAMkC,QAAWwH,EAAyB1J,EAAMkC,WAGlDtC,EAAKqG,SAAS,CACZqC,YAAa,KACbkB,OAAQ/C,EAASL,KAAKoD,OAAOhB,aAGhCE,MAAM,SAAAC,OA5LQ/I,EA+LnB+J,wBAA0B,WACxB/J,EAAKqG,SAAS,CACZS,kBAAkB,KAjMH9G,EAqMnBuB,4BAA8B,SAAA+E,GAC5B,IAAMW,EAAmB,GACnB7G,EAAmBJ,EAAKmG,MAAM/F,MAC9B4J,EAAmB1D,EAAM2D,OAAOC,QAAQF,cACxCG,EAAmBC,SAAS9D,EAAM2D,OAAOC,QAAQC,iBAAkB,IACnEE,EAAmB/D,EAAM2D,OAAOC,QAAQG,eACxC1I,EAAmB2E,EAAM2D,OAAOtI,MAElCqI,EACF5J,EAAMF,aAAa0E,QAAQ,SAAAtE,GACrBA,EAAYU,KAAOgJ,IACrB1J,EAAY+J,GAAkB1I,MAI7BvB,EAAMF,aAAaiK,KACtB/J,EAAMF,aAAaiK,GAAoB,IAGzC/J,EAAMF,aAAaiK,GAAkBE,GAAkB1I,GAGrD3B,EAAKmG,MAAMuC,aACb1I,EAAKmG,MAAMuC,YAAYe,SAGzBzJ,EAAKqG,SAAS,CACZqC,YAAahC,IAAMgD,YAAYC,SAC/BvJ,SAFF2F,OAAAoB,EAAA,EAAApB,CAAAqB,EAAA3G,EAAA4G,KAGG,SAAAiD,IAAA,IAAAC,EAAA,OAAAnD,EAAA3G,EAAAiH,KAAA,SAAA8C,GAAA,cAAAA,EAAA5C,KAAA4C,EAAA3C,MAAA,cAAA2C,EAAA3C,KAAA,EACoB7H,EAAKiH,aAAaoD,EAAgB1I,EAAOwI,GAD7D,OACDlD,EADCuD,EAAAxB,KAGKuB,EAAkC,IAAxBtD,EAAaxB,QAAgBwB,EAAa,KAAOtF,EAEjE3B,EAAKqG,SAAS,CACZY,aAAcsD,EAAU,GAAKtD,EAC7BwD,kBAAmB,KACnBC,gBAAiBH,EAAU,KAAOF,EAClC3B,YAAa,KACbyB,iBAAkBI,EAAU,KAAOJ,EACnCE,eAAgBE,EAAU,KAAOF,IAXlC,wBAAAG,EAAAtB,SAAAoB,QAlOctK,EAkPnBqB,gBAAkB,WAChB,IAAM8E,EAAQ,CACZc,aAAc,GACdwD,kBAAmB,KACnBC,gBAAiB,MAGnBC,WAAW,WACT3K,EAAKqG,SAASF,IACb,MA3PcnG,EA8PnBuC,0BAA4B,SAAA+D,GAC1B,IAAM3F,EAAQ2F,EAAM2D,OAAOjJ,GACrBZ,EAAQ2F,OAAO6E,OAAO,GAAI5K,EAAKmG,MAAM/F,OAE3CA,EAAMO,IAAQP,EAAMO,GAEpBX,EAAKqG,SAAS,CAACjG,WApQEJ,EAuQnB2C,sBAvQmB,eAAAkI,EAAA9E,OAAAoB,EAAA,EAAApB,CAAAqB,EAAA3G,EAAA4G,KAuQK,SAAAyD,EAAMxE,GAAN,IAAAW,EAAA7G,EAAAO,EAAAgB,EAAA,OAAAyF,EAAA3G,EAAAiH,KAAA,SAAAqD,GAAA,cAAAA,EAAAnD,KAAAmD,EAAAlD,MAAA,OAChBZ,EAAe,GACf7G,EAAeJ,EAAKmG,MAAM/F,MAC1BO,EAAe2F,EAAM2D,OAAOjJ,GAC5BW,EAAe2E,EAAM2D,OAAOtI,MAElCvB,EAAMO,GAAOgB,EAED,UAARhB,IACFP,EAAMwC,WAAajB,GAGjB3B,EAAKmG,MAAMuC,aACb1I,EAAKmG,MAAMuC,YAAYe,SAGzBzJ,EAAKqG,SAAS,CACZqC,YAAahC,IAAMgD,YAAYC,SAC/BvJ,SAFF2F,OAAAoB,EAAA,EAAApB,CAAAqB,EAAA3G,EAAA4G,KAGG,SAAA2D,IAAA,IAAAT,EAAA,OAAAnD,EAAA3G,EAAAiH,KAAA,SAAAuD,GAAA,cAAAA,EAAArD,KAAAqD,EAAApD,MAAA,cAAAoD,EAAApD,KAAA,EACoB7H,EAAKiH,aAAatG,EAAKgB,GAD3C,OACDsF,EADCgE,EAAAjC,KAGKuB,EAAkC,IAAxBtD,EAAaxB,QAAgBwB,EAAa,KAAOtF,EAEjE3B,EAAKqG,SAAS,CACZY,aAAcsD,EAAU,GAAKtD,EAC7BwD,kBAAmB,KACnBC,gBAAiBH,EAAU,KAAO5J,EAClC+H,YAAa,OATd,wBAAAuC,EAAA/B,SAAA8B,OAnBmB,wBAAAD,EAAA7B,SAAA4B,MAvQL,gBAAAI,GAAA,OAAAL,EAAAxB,MAAApJ,KAAAuF,YAAA,GAAAxF,EAwSnB0B,mBAAqB,SAAA4E,GACnB,IAAImE,EAAoBzK,EAAKmG,MAAMsE,kBAC/BC,EAAoB1K,EAAKmG,MAAMuE,gBAC/BP,EAAoBnK,EAAKmG,MAAMgE,iBAC/BE,EAAoBrK,EAAKmG,MAAMkE,eAE7Bc,EAAU7E,EAAM8E,OAAS9E,EAAM6E,SAAW/C,OAAO9B,MAAM6E,QA8B7D,GA5BgB,KAAZA,IAC0C,kBAAjCnL,EAAKmG,MAAMsE,kBACpBA,EAA0C,IAAtBA,EAA0BzK,EAAKmG,MAAMc,aAAaxB,OAAS,EAAIgF,EAAoB,GAEvGA,EAAoBzK,EAAKmG,MAAMc,aAAaxB,OAAS,EACrDzF,EAAKmG,MAAMuE,gBAAkBL,GAAkB/D,EAAM2D,OAAOjJ,IAG9DhB,EAAKqG,SAAS,CACZoE,oBACAC,qBAIY,KAAZS,IAC+B,kBAAtBV,EACTA,EAAoBA,IAAsBzK,EAAKmG,MAAMc,aAAaxB,OAAS,EAAI,EAAIgF,EAAoB,GAEvGA,EAAoB,EACpBC,EAAkBL,GAAkB/D,EAAM2D,OAAOjJ,IAGnDhB,EAAKqG,SAAS,CACZoE,oBACAC,sBAIa,IAAZS,GAA6B,KAAZA,IAAgD,kBAAtBV,EAAgC,CAC9E,IAAMrK,EAAQJ,EAAKmG,MAAM/F,MAEO,kBAArB+J,EACT/J,EAAMF,aAAaiK,GAAkBE,GAAkBrK,EAAKmG,MAAMc,aAAawD,GAE/ErK,EAAMsK,GAAmB1K,EAAKmG,MAAMc,aAAawD,GAGnC,KAAZU,GACF7E,EAAMC,iBAGRvG,EAAKqG,SAAS,CACZY,aAAc,GACdwD,kBAAmB,KACnBC,gBAAiB,KACjBP,iBAAkB,KAClBE,eAAgB,KAChBjK,YA/VaJ,EAoWnBkE,kBAAoB,SAACoC,GACnB,IAAI+E,EAAQrL,EAAKmG,MAAMkF,MAEvBA,EAAM/E,EAAM2D,OAAO9I,MAAQmF,EAAM2D,OAAOtI,MAExC3B,EAAKqG,SAAS,CAACgF,WAzWErL,EA4WnBsL,mBAAqB,SAAAhF,GACnB,IAAIiD,EAASvJ,EAAKmG,MAAMoD,OAExBA,EAAOC,IAAMlD,EAAM2D,OAAOtI,MAEtB3B,EAAKmG,MAAMuC,aACb1I,EAAKmG,MAAMuC,YAAYe,SAGzBzJ,EAAKqG,SAAS,CACZqC,YAAahC,IAAMgD,YAAYC,SAC/BJ,UACC,WACDvJ,EAAKgH,eAzXUhH,EA6XnBuL,sBAAwB,SAAAjF,GACtB,IAAMlG,EAAQJ,EAAKmG,MAAM/F,MAEW,OAAhCJ,EAAKmG,MAAMgE,iBACb/J,EAAMF,aAAaF,EAAKmG,MAAMgE,kBAAkBnK,EAAKmG,MAAMuE,iBAAmBpE,EAAM2D,OAAOuB,UAE3FpL,EAAMJ,EAAKmG,MAAMuE,iBAAmBpE,EAAM2D,OAAOuB,UAGhB,UAA/BxL,EAAKmG,MAAMuE,kBACbtK,EAAMwC,WAAa0D,EAAM2D,OAAOuB,WAGlCxL,EAAKqG,SAAS,CACZY,aAAc,GACdwD,kBAAmB,KACnBC,gBAAiB,KACjBtK,WA9YeJ,EAkZnByL,SAAW,SAAAC,GACT,IAAIlF,EAAe,KACftG,EAAe,GAEfwL,GACF1L,EAAKmG,MAAMyD,OAAOhF,QAAQ,SAAAxE,GACpBA,EAAMY,KAAO0K,KACflF,EAAOpG,GAEEF,cACPsG,EAAKtG,aAAa0E,QAAQ,SAACtE,EAAaC,GACF,KAAhCD,EAAYiD,iBAAkD,KAAxBjD,EAAYuB,SACpD3B,EAAakG,KAAK9F,KAKxBkG,EAAKtG,aAAeA,EAEpBkI,OAAOuD,SAAS,EAAG,MAKzB3L,EAAKqG,SAAS,CACZjG,MAAOoG,EACPO,kBAA4B,OAATP,KA5aJxG,EAgbnB+D,OAAS,SAACuC,GAGR,GAFAA,EAAMC,iBAE4B,KAA9BvG,EAAKmG,MAAMkF,MAAMpH,UAAiD,KAA9BjE,EAAKmG,MAAMkF,MAAMlH,SAAiB,CACxE,IAAMyH,EAAOjH,IAAI3E,EAAKmG,MAAMkF,MAAMpH,SAAWjE,EAAKmG,MAAMkF,MAAMlH,UACxDsC,EAAS,CACbxC,SAAUjE,EAAKmG,MAAMkF,MAAMpH,SAC3BU,IAAKiH,GAGPlF,IAAMC,IAAI,sDAAuD,CAACF,WAASG,KAAK,SAAAC,GAC9E,GAAIA,EAASL,KAAKqF,QAAS,CACzB,IAAM3I,EAAO,CACXC,QAA8B,UAApBsD,EAAOxC,SACjBS,YAAY,EACZC,IAAK8B,EAAO9B,IACZxD,KAAMsF,EAAOxC,UAGfjE,EAAKqG,SAAS,CACZyF,gBAAgB,EAChB5I,SAGF4G,EAAgB,OAAQhF,KAAKI,UAAUlF,EAAKmG,MAAMjD,WAC7C,CACL,IAAMkC,EAAQ,CACZnB,SAAUjE,EAAKmG,MAAMkF,MAAMpH,SAC3BE,SAAU,IAGZnE,EAAKqG,SAAS,CAACjB,aAEhB0D,UAjdY9I,EAqdnB+L,QAAU,WACR,IAAM7I,EAAO,CACXC,SAAS,EACTuB,YAAY,EACZC,IAAK,GACLxD,KAAM,IAGRuF,IAAMC,IAAI,yDAAyDC,KAAK,SAAAC,GACtE7G,EAAKqG,SAAS,CACZjG,MAAO,KACP8C,SAEF4G,EAAgB,OAAQ,OAleT9J,EAsenBgM,qBAAuB,WACrB,IAAMF,GAAkB9L,EAAKmG,MAAM2F,eAEnC9L,EAAKqG,SAAS,CACZyF,oBA1ee9L,EA8enBiM,uBAAyB,WACvB,IAAMnF,GAAoB9G,EAAKmG,MAAMW,iBAErC9G,EAAKqG,SAAS,CACZjG,MAAO0E,KAAKC,MAAMD,KAAKI,UAAUlF,EAAKmG,MAAM+F,eAC5CpF,mBACAC,mBAAmB,KApfJ/G,EAwfnByD,YAAc,SAAA6C,GACZA,EAAMC,iBAEN,IAAMqD,EAAS5J,EAAKmG,MAAMyD,OAAOX,QAC3BzC,EAAS,CACbC,OAAQ,CACNxC,SAAUjE,EAAKmG,MAAMjD,KAAK/B,KAC1BwD,IAAU3E,EAAKmG,MAAMjD,KAAKyB,IAC1BvE,MAAUJ,EAAKmG,MAAM/F,QAIzBwJ,EAAOhF,QAAQ,SAAAxE,GACTA,EAAMY,KAAOhB,EAAKmG,MAAM/F,MAAMY,KAChCZ,EAAQJ,EAAKmG,MAAM/F,SAIvBsG,IAAMC,IAAI,wDAAyDH,GAAMI,KAAK,SAAAC,GACxEA,GACF7G,EAAKqG,SAAS,CACZjG,MAAO,KACPwJ,SACA7C,mBAAmB,OA5gBzB/G,EAAKmG,MAAQ,CACXc,aAAc,GACdwD,kBAAmB,KACnBC,gBAAiB,KACjBhC,YAAahC,IAAMgD,YAAYC,SAC/BQ,iBAAkB,KAClBE,eAAgB,KAChBjK,MAAO,KACP8L,aAAc,CACZhM,aAAc,CACZ,CACE2B,QAAS,GACTD,aAAc,SACdZ,GAAI,MAEN,CACEa,QAAS,GACTD,aAAc,YACdZ,GAAI,OAGR+B,OAAQ,QACRL,UAAU,EACVD,UAAU,EACVH,SAAS,EACTU,MAAK,GACLf,OAAQ,KACRY,UAAW,GACXD,WAAY,GACZZ,MAAO,GACPc,KAAM,MAER8G,OAAQ,GACRyB,MAAO,CACL1G,IAAK,GACLR,SAAU,GACVF,SAAW,IAEbsF,OAAQ,CACNC,IAAK,IAEP1C,kBAAkB,EAClBC,mBAAmB,EACnB+E,gBAAgB,EAChB5I,KAAM4G,KA/CS9J,kEAoDjBC,KAAK+G,6CAieE,IAAAmF,EAAAlM,KACDmM,EAASnM,KAAKkG,MAAMyD,OAAOnE,OAAO4G,WAAW5G,OAC7C6G,EAAmBrM,KAAKkG,MAAMjD,KAAKwB,WACvClE,EAAAC,EAAAC,cAAA,KAAGwB,eAAa,EAAMtB,UAAU,iCAAiCuB,QAASlC,KAAK8L,UAE/EvL,EAAAC,EAAAC,cAAA,KAAGwB,eAAa,EAAMtB,UAAU,gCAAgCuB,QAASlC,KAAK+L,uBAGhF,OACExL,EAAAC,EAAAC,cAAA,OAAKE,UAAU,cACbJ,EAAAC,EAAAC,cAAA,OAAKE,UAAU,qCACbJ,EAAAC,EAAAC,cAAA,OAAKE,UAAU,yBACbJ,EAAAC,EAAAC,cAAA,KAAGwB,eAAa,EAAMtB,UAAS,kCAAqCuB,QAAS,WAAOiG,OAAOmE,SAASC,YACpGhM,EAAAC,EAAAC,cAAA,MAAIE,UAAU,uBAAuBuB,QAAS,WAAOiG,OAAOmE,SAASC,WAArE,YAEFhM,EAAAC,EAAAC,cAAA,OAAKE,UAAU,oBACZX,KAAKkG,MAAMjD,KAAKC,SACf3C,EAAAC,EAAAC,cAAA,KAAGwB,eAAa,EAAMtB,UAAS,oBAAAE,OAAsBb,KAAKkG,MAAMW,iBAAmB,GAAK,SAAzD,eAAgF3E,QAASlC,KAAKgM,yBAE9HK,IAGJrM,KAAKkG,MAAM2F,gBACVtL,EAAAC,EAAAC,cAAC+L,EAAD,CACAvI,kBAAmBjE,KAAKiE,kBACxBC,SAAUlE,KAAKkG,MAAMkF,MAAMlH,SAC3BJ,OAAQ9D,KAAK8D,OACbE,SAAUhE,KAAKkG,MAAMkF,MAAMpH,YAG3BhE,KAAKkG,MAAMW,mBAAqB7G,KAAKkG,MAAMY,mBAC3CvG,EAAAC,EAAAC,cAAA,WAASM,GAAG,SAASJ,UAAU,gBAC7BJ,EAAAC,EAAAC,cAAA,SACAE,UAAU,+CACVO,KAAK,MACLG,SAAUrB,KAAKqL,mBACftH,YAAY,oDACZrC,MAAO1B,KAAKkG,MAAMoD,OAAOC,MAEzBhJ,EAAAC,EAAAC,cAAA,KAAGwB,eAAa,EAAMtB,UAAU,0DAA0DuB,QAASlC,KAAKqJ,eAG3GrJ,KAAKkG,MAAMW,kBACVtG,EAAAC,EAAAC,cAACgM,EAAD,CACAzJ,eAAgBhD,KAAKgD,eACrBb,YAAanC,KAAK8J,wBAClB1I,gBAAiBpB,KAAKoB,gBACtBE,4BAA6BtB,KAAKsB,4BAClCgB,0BAA2BtC,KAAKsC,0BAChCI,sBAAuB1C,KAAK0C,sBAC5BjB,mBAAoBzB,KAAKyB,mBACzBtB,MAAOH,KAAKkG,MAAM/F,MAClB2B,SAAU9B,KAAK8B,SACfmB,KAAMjD,KAAKkG,MAAMjD,OAGlBjD,KAAKkG,MAAMY,mBACVvG,EAAAC,EAAAC,cAACiM,EAAD,CACA1J,eAAgBhD,KAAKgD,eACrBb,YAAanC,KAAKwL,SAClBpK,gBAAiBpB,KAAKoB,gBACtBE,4BAA6BtB,KAAKsB,4BAClCgB,0BAA2BtC,KAAKsC,0BAChCI,sBAAuB1C,KAAK0C,sBAC5BjB,mBAAoBzB,KAAKyB,mBACzBtB,MAAOH,KAAKkG,MAAM/F,MAClBqD,YAAaxD,KAAKwD,YAClBP,KAAMjD,KAAKkG,MAAMjD,QAGjBjD,KAAKkG,MAAMW,mBAAqB7G,KAAKkG,MAAMY,mBAC3CvG,EAAAC,EAAAC,cAAA,WAASM,GAAG,OAAOJ,UAAU,0BAC1BX,KAAKkG,MAAMyD,OAAOnE,OAAS,EAAIxF,KAAKkG,MAAMyD,OAAOvJ,IAAI,SAACD,EAAOG,GAC5D,IAAMS,GAAMT,EAAQ,GAAG8L,WAAWO,SAASR,EAAQ,QAEnD,OACE5L,EAAAC,EAAAC,cAAA,OAAKC,IAAKJ,GACRC,EAAAC,EAAAC,cAAA,QACAyB,QAAS,WAAOgK,EAAKV,SAASrL,EAAMY,KACpCJ,UAAU,cAEPI,EAJH,KAISZ,EAAM4B,MAAO5B,EAAM6B,OAAN,KAAAnB,OAAoBV,EAAM6B,QAAW,OAI3DzB,EAAAC,EAAAC,cAAA,mBAGVF,EAAAC,EAAAC,cAAA,OACAE,UAAS,6CAAAE,OAA+Cb,KAAKkG,MAAMc,aAAaxB,OAAS,EAAI,GAAK,UAClGzE,GAAG,gBAEAf,KAAKkG,MAAMc,aAAa5G,IAAI,SAACwM,EAAYtM,GACxC,OACEC,EAAAC,EAAAC,cAAA,OACAE,UAAS,iBAAAE,OAAmBP,IAAU4L,EAAKhG,MAAMsE,kBAAoB,SAAW,IAChF9J,IAAKJ,EACL4B,QAASgK,EAAKZ,uBAEXsB,cAznBCzJ,IAAMC,YCRxByJ,IAASC,OAAOvM,EAAAC,EAAAC,cAACsM,EAAD,MAASzI,SAAS0I,eAAe","file":"static/js/main.62fb8106.chunk.js","sourcesContent":["import React from 'react';\n\nclass AddIssueForm extends React.Component {\n  render() {\n    const contributors = this.props.issue.contributors ? this.props.issue.contributors.map((contributor, index) => {\n      return (\n        <div key={index} className=\"flex mb10 ml10\">\n          <div className=\"mr10 w100\">\n            <label htmlFor={`creator_type${index}`}>type</label>\n            <input\n            className=\"bdrBox bdrBlack p5 wFull\"\n            data-contributor-id={contributor.id}\n            data-contributor-index={index}\n            data-contributor-key=\"creator_type\"\n            id={`creator_type${index}`}\n            name={`creator_type${index}`}\n            onBlur={this.props.handleInputBlur}\n            onChange={this.props.handleContributorTextChange}\n            onFocus={this.props.handleContributorTextChange}\n            onKeyDown={this.props.handleInputKeyDown}\n            value={contributor.creator_type}\n            />\n          </div>\n          <div className=\"wFull\">\n            <label htmlFor={`creator${index}`}>name</label>\n            <input\n            className=\"bdrBox bdrBlack p5 wFull\"\n            data-contributor-id={contributor.id}\n            data-contributor-index={index}\n            data-contributor-key=\"creator\"\n            id={`creator${index}`}\n            name={`creator${index}`}\n            onBlur={this.props.handleInputBlur}\n            onChange={this.props.handleContributorTextChange}\n            onFocus={this.props.handleContributorTextChange}\n            onKeyDown={this.props.handleInputKeyDown}\n            value={contributor.creator}\n            />\n          </div>\n        </div>\n      );\n    }) : '';\n\n    return (\n      <form\n      className=\"bdrBox mb5 bdrBlack p10\"\n      id=\"issue\"\n      onSubmit={this.props.addIssue}\n      >\n        <div className=\"flex spaceBetween alignCenter mb10\">\n          <h2 className=\"bold\">\n            {this.props.issue.title}\n            {this.props.issue.number && ` #${this.props.issue.number}`}\n          </h2>\n          <i aria-hidden={true} className=\"fas fa-times-circle csrPointer\" onClick={this.props.handleClose}></i>\n        </div>\n        <div className=\"flex spaceBetween mb10\">\n          <div className=\"flex\">\n            <input\n            checked={this.props.issue.is_read}\n            className=\"mr5 bdrBlack p5\"\n            id=\"is_read\"\n            name=\"is_read\"\n            onChange={this.props.handleIssueCheckboxChange}\n            type=\"checkbox\"\n            />\n            <label htmlFor=\"is_read\">read</label>\n          </div>\n          <div className=\"flex\">\n            <input\n            checked={this.props.issue.is_owned}\n            className=\"mr5 bdrBlack p5\"\n            id=\"is_owned\"\n            name=\"is_owned\"\n            onChange={this.props.handleIssueCheckboxChange}\n            type=\"checkbox\"\n            />\n            <label htmlFor=\"is_owned\">owned</label>\n          </div>\n          <div className=\"flex\">\n            <input\n            checked={this.props.issue.is_color}\n            className=\"mr5 bdrBlack p5\"\n            id=\"is_color\"\n            name=\"is_color\"\n            onChange={this.props.handleIssueCheckboxChange}\n            type=\"checkbox\"\n            />\n            <label htmlFor=\"is_color\">color</label>\n          </div>\n        </div>\n        <div className=\"flex mb10\">\n          <div className=\"mr10 wFull\">\n            <label htmlFor=\"title\">title</label>\n            <input\n            className=\"bdrBox bdrBlack p5 wFull\"\n            id=\"title\"\n            name=\"title\"\n            onBlur={this.props.handleInputBlur}\n            onChange={this.props.handleIssueTextChange}\n            onFocus={this.props.handleIssueTextChange}\n            onKeyDown={this.props.handleInputKeyDown}\n            value={this.props.issue.title}\n            />\n          </div>\n          <div className=\"w100\">\n            <label htmlFor=\"number\">number</label>\n            <input\n            className=\"bdrBox bdrBlack p5 wFull\"\n            id=\"number\"\n            name=\"number\"\n            onBlur={this.props.handleInputBlur}\n            onChange={this.props.handleIssueTextChange}\n            onFocus={this.props.handleIssueTextChange}\n            value={this.props.issue.number || ''}\n            />\n          </div>\n        </div>\n        <div className=\"mb10 wFull\">\n          <label htmlFor=\"sort_title\">sort title</label>\n          <input\n          className=\"bdrBox bdrBlack p5 wFull\"\n          id=\"sort_title\"\n          name=\"sort_title\"\n          onBlur={this.props.handleInputBlur}\n          onChange={this.props.handleIssueTextChange}\n          onFocus={this.props.handleIssueTextChange}\n          value={this.props.issue.sort_title}\n          />\n        </div>\n        <div className=\"mb10\">\n          <label htmlFor=\"publisher\">publisher</label>\n          <input\n          className=\"bdrBox bdrBlack p5 wFull\"\n          id=\"publisher\"\n          name=\"publisher\"\n          onBlur={this.props.handleInputBlur}\n          onChange={this.props.handleIssueTextChange}\n          onFocus={this.props.handleIssueTextChange}\n          onKeyDown={this.props.handleInputKeyDown}\n          value={this.props.issue.publisher || ''}\n          />\n        </div>\n        <div className=\"mb10\">\n          <label htmlFor=\"year\">year</label>\n          <input\n          className=\"bdrBox bdrBlack p5 wFull\"\n          id=\"year\"\n          name=\"year\"\n          onChange={this.props.handleIssueTextChange}\n          value={this.props.issue.year || ''}\n          />\n        </div>\n        <div className=\"mb10\">\n          <label htmlFor=\"format\">format</label>\n          <input\n          className=\"bdrBox bdrBlack p5 wFull\"\n          id=\"format\"\n          name=\"format\"\n          onBlur={this.props.handleInputBlur}\n          onChange={this.props.handleIssueTextChange}\n          onFocus={this.props.handleIssueTextChange}\n          onKeyDown={this.props.handleInputKeyDown}\n          value={this.props.issue.format}\n          />\n        </div>\n        <div className=\"mb10\">\n          <label htmlFor=\"notes\">notes</label>\n          <textarea\n          className=\"bdrBox bdrBlack p5 wFull\"\n          id=\"notes\"\n          name=\"notes\"\n          onChange={this.props.handleIssueTextChange}\n          value={this.props.issue.notes}\n          />\n        </div>\n        <div id=\"contributors\">\n          <label>contributors</label>\n          {contributors}\n          <i aria-hidden={true} className={`ml10 fs14 fas fa-plus csrPointer`} onClick={this.props.addContributor}></i>\n        </div>\n        {this.props.user.isAdmin && (\n          <div className=\"flex flexEnd mt10\">\n            <button\n            className=\"bdrBlack p5 csrPointer\"\n            type=\"submit\"\n            >\n              add issue(s)\n            </button>\n          </div>\n        )}\n      </form>\n    );\n  }\n}\n\nexport default AddIssueForm;\n","import React from 'react';\n\nclass EditIssueForm extends React.Component {\n  render() {\n    const contributors = this.props.issue.contributors ? this.props.issue.contributors.map((contributor, index) => {\n      return (\n        <div key={contributor.id} className=\"flex mb10 ml10\">\n          <div className=\"mr10 w100\">\n            <div className=\"flex\">\n              <label className=\"mr5\" htmlFor={`creator_type${index}`}>type</label>\n              <span>[{contributor.creator_type_id}]</span>\n            </div>\n            <input\n            className=\"bdrBox bdrBlack p5 wFull\"\n            data-contributor-id={contributor.id}\n            data-contributor-index={index}\n            data-contributor-key=\"creator_type\"\n            id={`creator_type${index}`}\n            name={`creator_type${index}`}\n            onBlur={this.props.handleInputBlur}\n            onChange={this.props.handleContributorTextChange}\n            onFocus={this.props.handleContributorTextChange}\n            onKeyDown={this.props.handleInputKeyDown}\n            value={contributor.creator_type}\n            />\n          </div>\n          <div className=\"wFull\">\n            <div className=\"flex\">\n              <label className=\"mr5\" htmlFor={`creator${index}`}>name</label>\n              <span>[{contributor.creator_id}]</span>\n            </div>\n            <input\n            className=\"bdrBox bdrBlack p5 wFull\"\n            data-contributor-id={contributor.id}\n            data-contributor-index={index}\n            data-contributor-key=\"creator\"\n            id={`creator${index}`}\n            name={`creator${index}`}\n            onBlur={this.props.handleInputBlur}\n            onChange={this.props.handleContributorTextChange}\n            onFocus={this.props.handleContributorTextChange}\n            onKeyDown={this.props.handleInputKeyDown}\n            value={contributor.creator}\n            />\n          </div>\n        </div>\n      );\n    }) : '';\n\n    return (\n      <form\n      className=\"bdrBox mb5 bdrBlack p10\"\n      id=\"issue\"\n      onSubmit={this.props.updateIssue}\n      >\n        <div className=\"flex spaceBetween alignCenter mb10\">\n          <h2 className=\"bold\">\n            {this.props.issue.title}\n            {this.props.issue.number && ` #${this.props.issue.number}`}\n          </h2>\n          <i aria-hidden={true} className=\"fas fa-times-circle csrPointer\" onClick={this.props.handleClose}></i>\n        </div>\n        <div className=\"flex spaceBetween mb10\">\n          <div className=\"flex\">\n            <input\n            checked={this.props.issue.is_read}\n            className=\"mr5 bdrBlack p5\"\n            id=\"is_read\"\n            name=\"is_read\"\n            onChange={this.props.handleIssueCheckboxChange}\n            type=\"checkbox\"\n            />\n            <label htmlFor=\"is_read\" className={`${this.props.issue.is_read === null ? 'txtRed' : ''}`}>read</label>\n          </div>\n          <div className=\"flex\">\n            <input\n            checked={this.props.issue.is_owned}\n            className=\"mr5 bdrBlack p5\"\n            id=\"is_owned\"\n            name=\"is_owned\"\n            onChange={this.props.handleIssueCheckboxChange}\n            type=\"checkbox\"\n            />\n            <label htmlFor=\"is_owned\" className={`${this.props.issue.is_owned === null ? 'txtRed' : ''}`}>owned</label>\n          </div>\n          <div className=\"flex\">\n            <input\n            checked={this.props.issue.is_color}\n            className=\"mr5 bdrBlack p5\"\n            id=\"is_color\"\n            name=\"is_color\"\n            onChange={this.props.handleIssueCheckboxChange}\n            type=\"checkbox\"\n            />\n            <label htmlFor=\"is_color\" className={`${this.props.issue.is_color === null ? 'txtRed' : ''}`}>color</label>\n          </div>\n        </div>\n        <div className=\"flex mb10\">\n          <div className=\"mr10 wFull\">\n            <div className=\"flex\">\n              <label className=\"mr5\" htmlFor=\"title\">title</label>\n              <span>[{this.props.issue.title_id}]</span>\n            </div>\n            <input\n            className=\"bdrBox bdrBlack p5 wFull\"\n            id=\"title\"\n            name=\"title\"\n            onBlur={this.props.handleInputBlur}\n            onChange={this.props.handleIssueTextChange}\n            onFocus={this.props.handleIssueTextChange}\n            onKeyDown={this.props.handleInputKeyDown}\n            value={this.props.issue.title}\n            />\n          </div>\n          <div className=\"mb10 w100\">\n            <label htmlFor=\"number\">number</label>\n            <input\n            className=\"bdrBox bdrBlack p5 wFull\"\n            id=\"number\"\n            name=\"number\"\n            onBlur={this.props.handleInputBlur}\n            onChange={this.props.handleIssueTextChange}\n            value={this.props.issue.number || ''}\n            />\n          </div>\n        </div>\n        <div className=\"mb10 wFull\">\n          <label htmlFor=\"sort_title\">sort title</label>\n          <input\n          className=\"bdrBox bdrBlack p5 wFull\"\n          id=\"sort_title\"\n          name=\"sort_title\"\n          readOnly={true}\n          value={this.props.issue.sort_title}\n          />\n        </div>\n        <div className=\"mb10\">\n          <div className=\"flex\">\n            <label className=\"mr5\" htmlFor=\"publisher\">publisher</label>\n            <span>[{this.props.issue.publisher_id}]</span>\n          </div>\n          <input\n          className=\"bdrBox bdrBlack p5 wFull\"\n          id=\"publisher\"\n          name=\"publisher\"\n          onBlur={this.props.handleInputBlur}\n          onChange={this.props.handleIssueTextChange}\n          onFocus={this.props.handleIssueTextChange}\n          onKeyDown={this.props.handleInputKeyDown}\n          value={this.props.issue.publisher || ''}\n          />\n        </div>\n        <div className=\"mb10\">\n          <label htmlFor=\"year\">year</label>\n          <input\n          className=\"bdrBox bdrBlack p5 wFull\"\n          id=\"year\"\n          name=\"year\"\n          onChange={this.props.handleIssueTextChange}\n          value={this.props.issue.year || ''}\n          />\n        </div>\n        <div className=\"mb10\">\n          <div className=\"flex\">\n            <label className=\"mr5\" htmlFor=\"format\">format</label>\n            <span>[{this.props.issue.format_id}]</span>\n          </div>\n          <input\n          className=\"bdrBox bdrBlack p5 wFull\"\n          id=\"format\"\n          name=\"format\"\n          onBlur={this.props.handleInputBlur}\n          onChange={this.props.handleIssueTextChange}\n          onFocus={this.props.handleIssueTextChange}\n          onKeyDown={this.props.handleInputKeyDown}\n          value={this.props.issue.format}\n          />\n        </div>\n        <div className=\"mb10\">\n          <label htmlFor=\"notes\">notes</label>\n          <textarea\n          className=\"bdrBox bdrBlack p5 wFull\"\n          id=\"notes\"\n          name=\"notes\"\n          onChange={this.props.handleIssueTextChange}\n          value={this.props.issue.notes}\n          />\n        </div>\n        <div>\n          <label>contributors</label>\n          {contributors}\n          <i aria-hidden={true} className={`ml10 fs14 fas fa-plus csrPointer`} onClick={this.props.addContributor}></i>\n        </div>\n        {this.props.user.isAdmin && (\n          <div className=\"flex flexEnd mt10\">\n            <button\n            className=\"bdrBlack p5 csrPointer\"\n            type=\"submit\"\n            >\n              update issue\n            </button>\n          </div>\n        )}\n      </form>\n    );\n  }\n}\n\nexport default EditIssueForm;\n","import React from 'react';\n\nclass SignInForm extends React.PureComponent {\n  render() {\n    return (\n      <form id=\"signInForm\" onSubmit={this.props.signIn} className=\"flex mb5\">\n        <div className=\"flex bdrBox mr5 flex80\">\n          <div className=\"mr5 flex50\">\n            <input type=\"text\" name=\"username\" placeholder=\"username\" value={this.props.username} onChange={this.props.handleLoginChange} className=\"bdrBox bdrGray p5 flex100\"/>\n          </div>\n          <div className=\"flex50\">\n            <input type=\"password\" name=\"password\" placeholder=\"password\" value={this.props.password} onChange={this.props.handleLoginChange} className=\"bdrBox bdrGray p5 flex100\"/>\n          </div>\n        </div>\n        <button type=\"submit\" className=\"bdrBox bdrGray p5 flex20 csrPointer\">sign in</button>\n      </form>\n    );\n  }\n}\n\nexport default SignInForm;\n","export const getCookie = () => {\n  const cookies = document.cookie.split('; ');\n  let user = {\n    isAdmin: false,\n    isSignedIn: false,\n    md5: null,\n    name: null\n  };\n\n  cookies.forEach(cookie => {\n    const parts = cookie.split('=');\n    const key   = parts[0];\n    const value = parts[1];\n\n    if (key === 'user' && value !== '') {\n      user = JSON.parse(decodeURIComponent(value));\n\n      setCookie('user', JSON.stringify(user));\n    }\n  });\n\n  return user;\n}\n\nexport const getNullableBoolean = input => {\n  let output = null;\n\n  if (input === '1') {\n    output = true;\n  } else if (input === '0') {\n    output = false;\n  }\n\n  return output;\n};\n\nexport const setCookie = (name, value, expirationDate, path = '/') => {\n  if (typeof expirationDate === 'undefined') {\n    expirationDate = new Date();\n    expirationDate.setHours(expirationDate.getHours() + 24);\n  }\n\n  document.cookie = `${name}=${value}; expires=${expirationDate}; path=${path}`;\n}\n","import React from 'react';\nimport axios from 'axios';\nimport md5 from 'md5';\n\nimport AddIssueForm from './components/AddIssueForm';\nimport EditIssueForm from './components/EditIssueForm';\nimport SignInForm from './components/SignInForm';\n\nimport * as utils from './utils';\n\nimport './css/library.css';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      autocomplete: [],\n      autocompleteIndex: null,\n      autocompleteKey: null,\n      cancelToken: axios.CancelToken.source(),\n      contributorIndex: null,\n      contributorKey: null,\n      issue: null,\n      issueDefault: {\n        contributors: [\n          {\n            creator: '',\n            creator_type: 'writer',\n            id: null\n          },\n          {\n            creator: '',\n            creator_type: 'penciller',\n            id: null\n          }\n        ],\n        format: 'comic',\n        is_color: true,\n        is_owned: true,\n        is_read: false,\n        notes: ``,\n        number: null,\n        publisher: '',\n        sort_title: '',\n        title: '',\n        year: null\n      },\n      issues: [],\n      login: {\n        md5: '',\n        password: '',\n        username:  ''\n      },\n      search: {\n        any: ''\n      },\n      showAddIssueForm: false,\n      showEditIssueForm: false,\n      showSignInForm: false,\n      user: utils.getCookie()\n    };\n  };\n\n  componentDidMount() {\n    this.getIssues();\n  };\n\n  addContributor = () => {\n    let issue = this.state.issue;\n\n    issue.contributors.push({\n      creator: '',\n      creator_type: '',\n      id: null\n    });\n\n    this.setState({issue});\n  };\n\n  addIssue = event => {\n    event.preventDefault();\n\n    const data   = {\n      params: {\n        username: this.state.user.name,\n        md5:      this.state.user.md5,\n        issue:    this.state.issue\n      }\n    };\n\n    axios.get('https://www.rootbeercomics.com/api/longbox/add.php', data).then(response => {\n      if (response) {\n        this.setState({\n          issue: null,\n          showAddIssueForm: false,\n          showEditIssueForm: false\n        }, () => {\n          this.getIssues();\n        });\n      }\n    });\n  };\n\n  autocomplete = async (key, value, index = '') => {\n    let autocomplete = [];\n    const data = {\n      params: {\n        name: value,\n        order_by: 'name'\n      }\n    };\n    const rectangle = document.querySelector(`[id=\"${key + index}\"]`).getBoundingClientRect();\n    let url = '';\n\n    document.querySelector('#autocomplete').style.left  = rectangle.left + 'px';\n    document.querySelector('#autocomplete').style.top   = (window.scrollY + rectangle.top + rectangle.height - 1) + 'px';\n    document.querySelector('#autocomplete').style.width = (rectangle.width - 2) + 'px';\n\n    switch (key) {\n      case 'creator':\n        url = 'https://www.rootbeercomics.com/api/longbox/creators.php';\n        break;\n      case 'creator_type':\n        url = 'https://www.rootbeercomics.com/api/longbox/creator-types.php';\n        break;\n      case 'format':\n        url = 'https://www.rootbeercomics.com/api/longbox/formats.php';\n        break;\n      case 'publisher':\n        url = 'https://www.rootbeercomics.com/api/longbox/publishers.php';\n        break;\n      case 'title':\n        url = 'https://www.rootbeercomics.com/api/longbox/titles.php';\n        break;\n      default:\n        break;\n    }\n\n    if (url) {\n      if (this.state.cancelToken) {\n        data.cancelToken = this.state.cancelToken.token;\n      }\n\n      autocomplete = await axios.get(url, data).then(response => {\n        let results = [];\n\n        if (response) {\n          results = response.data.results.map(result => result.name);\n        }\n\n        return results;\n      }).catch(error => {});\n    }\n\n    return autocomplete ? autocomplete.slice(0, 5) : [];\n  };\n\n  clearSearch = () => {\n    let search = this.state.search;\n\n    search.any = '';\n\n    if (this.state.cancelToken) {\n      this.state.cancelToken.cancel();\n    }\n\n    this.setState({\n      cancelToken: axios.CancelToken.source(),\n      issues: [],\n      search\n    }, () => {\n      this.getIssues();\n    });\n  };\n\n  getIssues = () => {\n    const data = {\n      params: {\n        ...this.state.search,\n        order_by: 'sort_title, number'\n      }\n    };\n\n    if (this.state.cancelToken) {\n      data.cancelToken = this.state.cancelToken.token;\n    }\n\n    axios.get('https://www.rootbeercomics.com/api/longbox/issues.php', data).then(response => {\n      if (response) {\n        response.data.issues.results.forEach(issue => {\n          issue.is_color = utils.getNullableBoolean(issue.is_color);\n          issue.is_owned = utils.getNullableBoolean(issue.is_owned);\n          issue.is_read  = utils.getNullableBoolean(issue.is_read);\n        });\n\n        this.setState({\n          cancelToken: null,\n          issues: response.data.issues.results\n        });\n      }\n    }).catch(error => {});\n  };\n\n  handleAddIssueFormClose = () => {\n    this.setState({\n      showAddIssueForm: false\n    });\n  };\n\n  handleContributorTextChange = event => {\n    let   autocomplete     = [];\n    const issue            = this.state.issue;\n    const contributorId    = event.target.dataset.contributorId;\n    const contributorIndex = parseInt(event.target.dataset.contributorIndex, 10);\n    const contributorKey   = event.target.dataset.contributorKey;\n    const value            = event.target.value;\n\n    if (contributorId) {\n      issue.contributors.forEach(contributor => {\n        if (contributor.id === contributorId) {\n          contributor[contributorKey] = value;\n        }\n      });\n    } else {\n      if (!issue.contributors[contributorIndex]) {\n        issue.contributors[contributorIndex] = {};\n      }\n\n      issue.contributors[contributorIndex][contributorKey] = value;\n    }\n\n    if (this.state.cancelToken) {\n      this.state.cancelToken.cancel();\n    }\n\n    this.setState({\n      cancelToken: axios.CancelToken.source(),\n      issue\n    }, async () => {\n      autocomplete = await this.autocomplete(contributorKey, value, contributorIndex);\n\n      const isMatch = autocomplete.length === 1 && autocomplete[0] === value;\n\n      this.setState({\n        autocomplete: isMatch ? [] : autocomplete,\n        autocompleteIndex: null,\n        autocompleteKey: isMatch ? null : contributorKey,\n        cancelToken: null,\n        contributorIndex: isMatch ? null : contributorIndex,\n        contributorKey: isMatch ? null : contributorKey\n      });\n    });\n  };\n\n  handleInputBlur = () => {\n    const state = {\n      autocomplete: [],\n      autocompleteIndex: null,\n      autocompleteKey: null\n    };\n\n    setTimeout(() => {\n      this.setState(state);\n    }, 250);\n  }\n\n  handleIssueCheckboxChange = event => {\n    const key   = event.target.id;\n    const issue = Object.assign({}, this.state.issue);\n\n    issue[key] = !issue[key];\n\n    this.setState({issue});\n  };\n\n  handleIssueTextChange = async event => {\n    let   autocomplete = [];\n    const issue        = this.state.issue;\n    const key          = event.target.id;\n    const value        = event.target.value;\n\n    issue[key] = value;\n\n    if (key === 'title') {\n      issue.sort_title = value;\n    }\n\n    if (this.state.cancelToken) {\n      this.state.cancelToken.cancel();\n    }\n\n    this.setState({\n      cancelToken: axios.CancelToken.source(),\n      issue\n    }, async () => {\n      autocomplete = await this.autocomplete(key, value);\n\n      const isMatch = autocomplete.length === 1 && autocomplete[0] === value;\n\n      this.setState({\n        autocomplete: isMatch ? [] : autocomplete,\n        autocompleteIndex: null,\n        autocompleteKey: isMatch ? null : key,\n        cancelToken: null\n      });\n    });\n  };\n\n  handleInputKeyDown = event => {\n    let autocompleteIndex = this.state.autocompleteIndex;\n    let autocompleteKey   = this.state.autocompleteKey;\n    let contributorIndex  = this.state.contributorIndex;\n    let contributorKey    = this.state.contributorKey;\n\n    const keyCode = event.which || event.keyCode || window.event.keyCode;\n\n    if (keyCode === 38) {\n      if (typeof this.state.autocompleteIndex === 'number') {\n        autocompleteIndex = autocompleteIndex === 0 ? this.state.autocomplete.length - 1 : autocompleteIndex - 1;\n      } else {\n        autocompleteIndex = this.state.autocomplete.length - 1;\n        this.state.autocompleteKey = contributorKey || event.target.id;\n      }\n\n      this.setState({\n        autocompleteIndex,\n        autocompleteKey\n      });\n    }\n\n    if (keyCode === 40) {\n      if (typeof autocompleteIndex === 'number') {\n        autocompleteIndex = autocompleteIndex === this.state.autocomplete.length - 1 ? 0 : autocompleteIndex + 1;\n      } else {\n        autocompleteIndex = 0;\n        autocompleteKey = contributorKey || event.target.id;\n      }\n\n      this.setState({\n        autocompleteIndex,\n        autocompleteKey\n      });\n    }\n\n    if ((keyCode === 9 || keyCode === 13) && typeof autocompleteIndex === 'number') {\n      const issue = this.state.issue;\n\n      if (typeof contributorIndex === 'number') {\n        issue.contributors[contributorIndex][contributorKey] = this.state.autocomplete[autocompleteIndex];\n      } else {\n        issue[autocompleteKey] = this.state.autocomplete[autocompleteIndex];\n      }\n\n      if (keyCode === 13) {\n        event.preventDefault();\n      }\n\n      this.setState({\n        autocomplete: [],\n        autocompleteIndex: null,\n        autocompleteKey: null,\n        contributorIndex: null,\n        contributorKey: null,\n        issue\n      });\n    }\n  };\n\n  handleLoginChange = (event) => {\n    let login = this.state.login;\n\n    login[event.target.name] = event.target.value;\n\n    this.setState({login});\n  }\n\n  handleSearchChange = event => {\n    let search = this.state.search;\n\n    search.any = event.target.value;\n\n    if (this.state.cancelToken) {\n      this.state.cancelToken.cancel();\n    }\n\n    this.setState({\n      cancelToken: axios.CancelToken.source(),\n      search\n    }, () => {\n      this.getIssues();\n    });\n  };\n\n  handleSuggestionClick = event => {\n    const issue = this.state.issue;\n\n    if (this.state.contributorIndex !== null) {\n      issue.contributors[this.state.contributorIndex][this.state.autocompleteKey] = event.target.innerHTML;\n    } else {\n      issue[this.state.autocompleteKey] = event.target.innerHTML;\n    }\n\n    if (this.state.autocompleteKey === 'title') {\n      issue.sort_title = event.target.innerHTML;\n    }\n\n    this.setState({\n      autocomplete: [],\n      autocompleteIndex: null,\n      autocompleteKey: null,\n      issue\n    });\n  };\n\n  setIssue = issueId => {\n    let data         = null;\n    let contributors = [];\n\n    if (issueId) {\n      this.state.issues.forEach(issue => {\n        if (issue.id === issueId) {\n          data = issue;\n\n          if (data.contributors) {\n            data.contributors.forEach((contributor, index) => {\n              if (contributor.creator_type_id !== '' && contributor.creator !== '') {\n                contributors.push(contributor);\n              }\n            });\n          }\n\n          data.contributors = contributors;\n\n          window.scrollTo(0, 0);\n        }\n      });\n    }\n\n    this.setState({\n      issue: data,\n      showEditIssueForm: data !== null\n    });\n  };\n\n  signIn = (event) => {\n    event.preventDefault();\n\n    if (this.state.login.username !== '' && this.state.login.password !== '') {\n      const hash = md5(this.state.login.username + this.state.login.password);\n      const params = {\n        username: this.state.login.username,\n        md5: hash\n      };\n\n      axios.get('https://www.rootbeercomics.com/login/ajax/index.php', {params}).then(response => {\n        if (response.data.success) {\n          const user = {\n            isAdmin: (params.username === 'matt!'),\n            isSignedIn: true,\n            md5: params.md5,\n            name: params.username\n          };\n\n          this.setState({\n            showSignInForm: false,\n            user\n          });\n\n          utils.setCookie('user', JSON.stringify(this.state.user));\n        } else {\n          const input = {\n            username: this.state.login.username,\n            password: ''\n          };\n\n          this.setState({input});\n        }\n      }).catch();\n    }\n  }\n\n  signOut = () => {\n    const user = {\n      isAdmin: false,\n      isSignedIn: false,\n      md5: '',\n      name: ''\n    };\n\n    axios.get('https://www.rootbeercomics.com/login/ajax/log-out.php').then(response => {\n      this.setState({\n        issue: null,\n        user\n      });\n      utils.setCookie('user', '');\n    });\n  }\n\n  toggleShowSignInForm = () => {\n    const showSignInForm = !this.state.showSignInForm;\n\n    this.setState({\n      showSignInForm\n    });\n  }\n\n  toggleShowAddIssueForm = () => {\n    const showAddIssueForm = !this.state.showAddIssueForm;\n\n    this.setState({\n      issue: JSON.parse(JSON.stringify(this.state.issueDefault)),\n      showAddIssueForm,\n      showEditIssueForm: false\n    });\n  }\n\n  updateIssue = event => {\n    event.preventDefault();\n\n    const issues = this.state.issues.slice();\n    const data   = {\n      params: {\n        username: this.state.user.name,\n        md5:      this.state.user.md5,\n        issue:    this.state.issue\n      }\n    };\n\n    issues.forEach(issue => {\n      if (issue.id === this.state.issue.id) {\n        issue = this.state.issue;\n      }\n    });\n\n    axios.get('https://www.rootbeercomics.com/api/longbox/update.php', data).then(response => {\n      if (response) {\n        this.setState({\n          issue: null,\n          issues,\n          showEditIssueForm: false\n        });\n      }\n    });\n  };\n\n  render() {\n    const digits = this.state.issues.length.toString().length;\n    const signInOutButton = (this.state.user.isSignedIn) ? (\n      <i aria-hidden={true} className=\"fas fa-sign-out-alt csrPointer\" onClick={this.signOut}></i>\n    ) : (\n      <i aria-hidden={true} className=\"fas fa-sign-in-alt csrPointer\" onClick={this.toggleShowSignInForm}></i>\n    );\n\n    return (\n      <div className=\"mAuto w600\">\n        <div className=\"flex spaceBetween alignCenter mb5\">\n          <div className=\"flex alignCenter mr10\">\n            <i aria-hidden={true} className={`mr5 fas fa-book-open csrPointer`} onClick={() => {window.location.reload()}}></i>\n            <h1 className=\"fs14 bold csrPointer\" onClick={() => {window.location.reload()}}>longbox</h1>\n          </div>\n          <div className=\"flex alignCenter\">\n            {this.state.user.isAdmin && (\n              <i aria-hidden={true} className={`mr10 fas fa-edit ${this.state.showAddIssueForm ? '' : 'txtRed'} csrPointer`} onClick={this.toggleShowAddIssueForm}></i>\n            )}\n            {signInOutButton}\n          </div>\n        </div>\n        {this.state.showSignInForm &&\n          <SignInForm\n          handleLoginChange={this.handleLoginChange}\n          password={this.state.login.password}\n          signIn={this.signIn}\n          username={this.state.login.username}\n          />\n        }\n        {!this.state.showAddIssueForm && !this.state.showEditIssueForm && (\n          <section id=\"search\" className=\"relative mb5\">\n            <input\n            className=\"searchFieldAny mr10 bdrBox bdrBlack p5 wFull\"\n            name=\"any\"\n            onChange={this.handleSearchChange}\n            placeholder=\"search by title, publisher, contributor, or notes\"\n            value={this.state.search.any}\n            />\n            <i aria-hidden={true} className=\"clearSearchButton fas fa-times absolute csrPointer fs14\" onClick={this.clearSearch}></i>\n          </section>\n        )}\n        {this.state.showAddIssueForm && (\n          <AddIssueForm\n          addContributor={this.addContributor}\n          handleClose={this.handleAddIssueFormClose}\n          handleInputBlur={this.handleInputBlur}\n          handleContributorTextChange={this.handleContributorTextChange}\n          handleIssueCheckboxChange={this.handleIssueCheckboxChange}\n          handleIssueTextChange={this.handleIssueTextChange}\n          handleInputKeyDown={this.handleInputKeyDown}\n          issue={this.state.issue}\n          addIssue={this.addIssue}\n          user={this.state.user}\n          />\n        )}\n        {this.state.showEditIssueForm && (\n          <EditIssueForm\n          addContributor={this.addContributor}\n          handleClose={this.setIssue}\n          handleInputBlur={this.handleInputBlur}\n          handleContributorTextChange={this.handleContributorTextChange}\n          handleIssueCheckboxChange={this.handleIssueCheckboxChange}\n          handleIssueTextChange={this.handleIssueTextChange}\n          handleInputKeyDown={this.handleInputKeyDown}\n          issue={this.state.issue}\n          updateIssue={this.updateIssue}\n          user={this.state.user}\n          />\n        )}\n        {!this.state.showAddIssueForm && !this.state.showEditIssueForm && (\n          <section id=\"list\" className=\"bdrBox mb5 bdrBlack p5\">\n            {this.state.issues.length > 0 ? this.state.issues.map((issue, index) => {\n              const id = (index + 1).toString().padStart(digits, '\\xa0');\n\n              return (\n                <div key={index}>\n                  <span\n                  onClick={() => {this.setIssue(issue.id)}}\n                  className=\"csrPointer\"\n                  >\n                    {id}. {issue.title}{issue.number ? ` #${issue.number}` : ''}\n                  </span>\n                </div>\n              );\n            }) : (<div>...</div>)}\n          </section>\n        )}\n        <div\n        className={`absolute bdrBlack bgWhite overflow-hidden ${this.state.autocomplete.length > 0 ? '' : 'hidden'}`}\n        id=\"autocomplete\"\n        >\n          {this.state.autocomplete.map((suggestion, index) => {\n            return (\n              <div\n              className={`suggestion p5 ${index === this.state.autocompleteIndex ? 'active' : ''}`}\n              key={index}\n              onClick={this.handleSuggestionClick}\n              >\n                {suggestion}\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    );\n  };\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}