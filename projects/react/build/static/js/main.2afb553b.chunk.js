(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{26:function(t,e,s){t.exports=s(56)},54:function(t,e,s){},56:function(t,e,s){"use strict";s.r(e);var a=s(0),i=s.n(a),o=s(20),n=s.n(o),r=s(58),l=s(21),c=s(3),m=s(4),h=s(6),p=s(5),d=s(7),u=s(59),f=s(9),g=s.n(f),w=s(22),b=s.n(w),v=function(t){function e(){return Object(c.a)(this,e),Object(h.a)(this,Object(p.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(m.a)(e,[{key:"render",value:function(){var t;switch(this.props.itemTypeId){default:case 0:t="film";break;case 1:t="book-open";break;case 2:t="book"}return i.a.createElement("form",{id:"addItemForm",onSubmit:this.props.addItem,className:"flex mb5"},i.a.createElement("div",{className:"bdrBox mr5 flex80"},i.a.createElement("div",{className:"flex"},i.a.createElement("input",{type:"text",name:"title",placeholder:"title",value:this.props.title,onChange:this.props.handleItemChange,className:"bdrBox mr5 mb5 bdrGray p5 flex100"}),i.a.createElement("div",{id:"cycleItemTypeButton",onClick:this.props.cycleItemType,className:"flex justifyCenter alignCenter bdrBox bdrGray p5 txtC csrPointer"},i.a.createElement("i",{className:"fas fa-"+t+" csrPointer"}))),i.a.createElement("div",{className:"flex"},i.a.createElement("div",{id:"date",className:"flex mr5"},i.a.createElement("div",{className:"mr5 flex33"},i.a.createElement("input",{type:"text",name:"month",maxLength:"2",placeholder:"month",value:this.props.month,onChange:this.props.handleItemChange,className:"bdrBox bdrGray p5 flex100"})),i.a.createElement("div",{className:"mr5 flex33"},i.a.createElement("input",{type:"text",name:"day",maxLength:"2",placeholder:"day",value:this.props.day,onChange:this.props.handleItemChange,className:"bdrBox bdrGray p5 flex100"})),i.a.createElement("div",{className:"flex33"},i.a.createElement("input",{type:"text",name:"year",maxLength:"2",placeholder:"year",value:this.props.year,onChange:this.props.handleItemChange,className:"bdrBox bdrGray p5 flex100"}))),i.a.createElement("div",{id:"toggleItemFirstButton",onClick:this.props.toggleItemIsFirst,className:"flex justifyCenter alignCenter bdrBox bdrGray p5 lineHieght1 csrPointer"},this.props.isFirst?"X":""))),i.a.createElement("button",{type:"submit",id:"addItemButton",className:"bdrBox bdrGray p5 flex20 csrPointer"},"add"))}}]),e}(i.a.PureComponent),y=function(t){function e(){return Object(c.a)(this,e),Object(h.a)(this,Object(p.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(m.a)(e,[{key:"render",value:function(){var t=this.props.isAsc?"fa-caret-square-up":"fa-caret-square-down",e=this.props.showBooks?"":"txtRed",s=this.props.showComics?"":"txtRed",a=this.props.showMovies?"":"txtRed",o=this.props.showDate?"":"txtRed",n=this.props.showDuplicates?"[X]":"[ ]";return i.a.createElement("div",{className:"flex flex-col m-flex-row spaceBetween alignCenter mb5 fs14"},i.a.createElement("div",{className:"flex alignCenter mr5 mb5 m-mb0 flex100 m-flex1"},i.a.createElement("i",{className:"mr5 fas ".concat(t," csrPointer"),onClick:this.props.toggleIsAsc}),i.a.createElement("i",{className:"mr5 fas ".concat(e," fa-book csrPointer"),onClick:this.props.toggleShowBooks}),i.a.createElement("i",{className:"mr5 fas ".concat(s," fa-book-open csrPointer"),onClick:this.props.toggleShowComics}),i.a.createElement("i",{className:"mr5 fas ".concat(a," fa-film csrPointer"),onClick:this.props.toggleShowMovies}),i.a.createElement("i",{className:"mr5 fas ".concat(o," fa-calendar-check csrPointer"),onClick:this.props.toggleShowDate}),i.a.createElement("span",{className:"mr5 bold csrPointer",onClick:this.props.toggleShowDuplicates},n)),i.a.createElement("div",{className:"flex flex100 m-flex1"},i.a.createElement("div",{className:"mr5 flex33 m-w100"},i.a.createElement("input",{className:"bdrBox bdrGray p5 flex100",id:"dateStart",name:"dateStart",onChange:this.props.filterDate,placeholder:"from: mmddyy",value:this.props.dateStart})),i.a.createElement("div",{className:"mr5 flex33 m-w100"},i.a.createElement("input",{className:"bdrBox bdrGray p5 flex100",id:"dateEnd",name:"dateEnd",onChange:this.props.filterDate,placeholder:"to: mmddyy",value:this.props.dateEnd})),i.a.createElement("div",{className:"flex33 m-w100"},i.a.createElement("input",{className:"bdrBox bdrGray p5 flex100",name:"title",onChange:this.props.filterTitle,placeholder:"title",value:this.props.title}))))}}]),e}(i.a.PureComponent),S=function(t){function e(){return Object(c.a)(this,e),Object(h.a)(this,Object(p.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(m.a)(e,[{key:"render",value:function(){var t,e=this;if(this.props.items){if(t=this.props.items.slice(),this.props.isAsc||t.reverse(),this.props.title&&(t=t.filter(function(t){return t.title.indexOf(e.props.title)>-1})),8===this.props.dateStart.length){var s=new Date(this.props.dateStart);t=t.filter(function(t){return new Date(t.date.substr(0,10))>=s})}if(8===this.props.dateEnd.length){var a=new Date(this.props.dateEnd);t=t.filter(function(t){return new Date(t.date.substr(0,10))<=a})}this.props.showDuplicates||(t=t.filter(function(t){return t.isFirst})),this.props.showBooks||(t=t.filter(function(t){return"book"!==t.type})),this.props.showComics||(t=t.filter(function(t){return"comic"!==t.type})),this.props.showMovies||(t=t.filter(function(t){return"movie"!==t.type})),t=(t=t.map(function(s,a){var o=new Date(s.date.replace(" ","T"));o.setHours(o.getHours()+5);var n,r=(o.getMonth()+1).toString().padStart(2,"0"),l=o.getDate().toString().padStart(2,"0"),c=o.getFullYear().toString().substr(2),m=s.isFirst?s.title:"[".concat(s.title,"]"),h=e.props.isAsc?a+1:t.length-a,p=e.props.showDate?" (".concat(r,"/").concat(l,"/").concat(c,")"):"";switch(s.type){default:case"book":n=i.a.createElement("i",{className:"mr5 fas fa-book"});break;case"comic":n=i.a.createElement("i",{className:"mr5 fas fa-book-open"});break;case"movie":n=i.a.createElement("i",{className:"mr5 fas fa-film"})}return i.a.createElement("div",{key:a},h,". ",n,m,p)})).length>0?t:i.a.createElement("div",null,"...")}return i.a.createElement("div",{id:"items",className:"bdrBox bdrGray p5"},t)}}]),e}(i.a.PureComponent),x=function(t){function e(){return Object(c.a)(this,e),Object(h.a)(this,Object(p.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(m.a)(e,[{key:"render",value:function(){return i.a.createElement("form",{id:"signInForm",onSubmit:this.props.signIn,className:"flex mb5"},i.a.createElement("div",{className:"flex bdrBox mr5 flex80"},i.a.createElement("div",{className:"mr5 flex50"},i.a.createElement("input",{type:"text",name:"username",placeholder:"username",value:this.props.username,onChange:this.props.handleInputChange,className:"bdrBox bdrGray p5 flex100"})),i.a.createElement("div",{className:"flex50"},i.a.createElement("input",{type:"password",name:"password",placeholder:"password",value:this.props.password,onChange:this.props.handleInputChange,className:"bdrBox bdrGray p5 flex100"}))),i.a.createElement("button",{type:"submit",className:"bdrBox bdrGray p5 flex20 csrPointer"},"sign in"))}}]),e}(i.a.PureComponent),E=function(t){function e(){var t,s;Object(c.a)(this,e);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(s=Object(h.a)(this,(t=Object(p.a)(e)).call.apply(t,[this].concat(i)))).state={dateEnd:"",dateStart:"",input:{username:"",password:""},isAsc:!1,item:{day:"",isFirst:!0,month:"",title:"",type:"",year:""},items:[],itemTypeId:0,itemTypes:["movie","comic","book"],showAddItemForm:!1,showBooks:!0,showComics:!0,showDate:!0,showDuplicates:!0,showFilters:!1,showMovies:!0,showSignInForm:!1,title:"",urlPrefix:"",user:{isAdmin:!1,isSignedIn:!1,md5:null,name:null}},s.addItem=function(t){t.preventDefault();var e={username:s.state.user.name,md5:s.state.user.md5,item:{date:s.state.item.year+"-"+s.state.item.month+"-"+s.state.item.day,isFirst:s.state.item.isFirst,title:s.state.item.title,type:s.state.itemTypes[s.state.itemTypeId]}};g.a.get("http://rootbeercomics.com/projects/list/insert.php",{params:{data:e}}).then(function(t){if(t.data.success){var e=s.state.item;e.title="",s.setState({item:e}),s.getItems()}})},s.cycleItemType=function(){var t=s.state.itemTypeId+1>=s.state.itemTypes.length?0:s.state.itemTypeId+1;s.setState({itemTypeId:t})},s.filterDate=function(t){var e=t.target.value.match(/\d/g);(e=e?e.slice(0,6).join(""):"").length>4&&(e=e.slice(0,4)+"/"+e.slice(4)),e.length>2&&(e=e.slice(0,2)+"/"+e.slice(2)),s.setState(Object(l.a)({},t.target.name,e),s.updatePath)},s.filterTitle=function(t){s.setState({title:t.target.value},s.updatePath)},s.getCookie=function(){document.cookie.split("; ").forEach(function(t){var e=t.split("="),a=e[0],i=e[1];if("user"===a&&""!==i){var o=JSON.parse(decodeURIComponent(i));s.setState({user:o})}})},s.getHeading=function(){var t="entertainment matt has consumed";return!s.state.showBooks||s.state.showComics||s.state.showMovies?!s.state.showComics||s.state.showBooks||s.state.showMovies?!s.state.showMovies||s.state.showBooks||s.state.showComics?s.state.showBooks&&s.state.showComics&&!s.state.showMovies&&(t="books and comics matt has read"):t="movies matt has seen":t="comics matt has read":t="books matt has read",t},s.getItems=function(){g.a.get("http://rootbeercomics.com/projects/list/get.php").then(function(t){t.data.items.map(function(t){return t.isFirst="1"===t.isFirst,t});s.setState({items:t.data.items})})},s.handleInputChange=function(t){var e=s.state.input;e[t.target.name]=t.target.value,s.setState({input:e})},s.handleItemChange=function(t){var e=s.state.item;e[t.target.name]=t.target.value,s.setState({item:e})},s.parsePath=function(){var t=window.location.search,e=window.location.pathname.replace(t,""),a=t.substr(1).split("&"),i={},o=[];a.forEach(function(t){if("asc"===t)o.push({isAsc:!0});else if("no-books"===t)o.push({showBooks:!1});else if("no-comics"===t)o.push({showComics:!1});else if("no-date"===t)o.push({showDate:!1});else if("no-dupes"===t)o.push({showDuplicates:!1});else if("no-movies"===t)o.push({showMovies:!1});else if("start:"===t.substr(0,6)){var e=t.substr(6).replace(/\./g,"/");o.push({dateStart:e})}else if("end:"===t.substr(0,4)){var s=t.substr(4).replace(/\./g,"/");o.push({dateEnd:s})}else"title:"===t.substr(0,6)&&o.push({title:t.substr(6)})}),o.length>0&&(o.push({showFilters:!0}),o.forEach(function(t){i=Object.assign(i,t)}),s.setState(i)),s.setState({urlPrefix:e})},s.setCookie=function(t,e,s){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"/";"undefined"===typeof s&&(s=new Date).setHours(s.getHours()+24),document.cookie="".concat(t,"=").concat(e,"; expires=").concat(s,"; path=").concat(a)},s.signIn=function(t){t.preventDefault();var e=b()(s.state.input.username+s.state.input.password),a={username:s.state.input.username,md5:e};g.a.get("http://rootbeercomics.com/login/ajax/index.php",{params:a}).then(function(t){if(t.data.success){var e={isAdmin:"matt!"===a.username,isSignedIn:!0,md5:a.md5,name:a.username};s.setState({showSignInForm:!1,user:e}),s.setCookie("user",JSON.stringify(s.state.user))}else{var i={username:s.state.input.username,password:""};s.setState({input:i})}})},s.signOut=function(){var t={isAdmin:!1,isSignedIn:!1,md5:"",name:""};g.a.get("http://rootbeercomics.com/login/ajax/log-out.php").then(function(e){s.setState({showAddItemForm:!1,user:t}),s.setCookie("user","")})},s.toggleItemIsFirst=function(){var t=s.state.item;t.isFirst=!t.isFirst,s.setState({item:t})},s.toggleShowAddItemForm=function(){s.setState({showAddItemForm:!s.state.showAddItemForm})},s.toggleFilter=function(){var t=!s.state.showFilters;s.setState({showFilters:t})},s.toggleIsAsc=function(){s.setState({isAsc:!s.state.isAsc},s.updatePath)},s.toggleShowBooks=function(){s.setState({showBooks:!s.state.showBooks},s.updatePath)},s.toggleShowComics=function(){s.setState({showComics:!s.state.showComics},s.updatePath)},s.toggleShowDate=function(){s.setState({showDate:!s.state.showDate},s.updatePath)},s.toggleShowDuplicates=function(){s.setState({showDuplicates:!s.state.showDuplicates},s.updatePath)},s.toggleShowMovies=function(){s.setState({showMovies:!s.state.showMovies},s.updatePath)},s.toggleShowSignInForm=function(){s.setState({showSignInForm:!s.state.showSignInForm})},s.updatePath=function(){var t=[];if(s.state.isAsc&&t.push("asc"),s.state.showBooks||t.push("no-books"),s.state.showComics||t.push("no-comics"),s.state.showMovies||t.push("no-movies"),s.state.showDate||t.push("no-date"),s.state.showDuplicates||t.push("no-dupes"),8===s.state.dateStart.length){var e=s.state.dateStart.replace(/[\/-]/g,".");t.push("start:"+e)}if(8===s.state.dateEnd.length){var a=s.state.dateEnd.replace(/[\/-]/g,".");t.push("end:"+a)}""!==s.state.title&&t.push("title:"+s.state.title),s.props.history.push(s.state.urlPrefix+"?"+t.join("&"))},s}return Object(d.a)(e,t),Object(m.a)(e,[{key:"componentDidMount",value:function(){var t=new Date,e={day:t.getDate().toString().padStart(2,"0"),isFirst:!0,month:(t.getMonth()+1).toString().padStart(2,"0"),title:"",type:"movie",year:t.getFullYear().toString().substr(2)};this.setState({item:e}),this.getItems(),this.getCookie(),this.parsePath()}},{key:"render",value:function(){var t=this.getHeading(),e=this.state.user.isAdmin?i.a.createElement("i",{className:"mr5 fas fa-edit csrPointer",onClick:this.toggleShowAddItemForm}):null,s=this.state.user.isSignedIn?i.a.createElement("i",{className:"fas fa-sign-out-alt csrPointer",onClick:this.signOut}):i.a.createElement("i",{className:"fas fa-sign-in-alt csrPointer",onClick:this.toggleShowSignInForm});return i.a.createElement("div",{className:"mAuto w600"},i.a.createElement("div",{className:"flex spaceBetween alignCenter mb5 fs14"},i.a.createElement("p",{className:"mr5 bold"},t),i.a.createElement("div",{className:"flex"},e,i.a.createElement("i",{className:"mr5 fas fa-filter csrPointer",onClick:this.toggleFilter}),s)),this.state.user.isSignedIn&&this.state.showAddItemForm&&i.a.createElement(v,{addItem:this.addItem,cycleItemType:this.cycleItemType,day:this.state.item.day,isFirst:this.state.item.isFirst,itemTypeId:this.state.itemTypeId,handleItemChange:this.handleItemChange,month:this.state.item.month,title:this.state.item.title,toggleItemIsFirst:this.toggleItemIsFirst,year:this.state.item.year}),this.state.showSignInForm&&i.a.createElement(x,{signIn:this.signIn,username:this.state.input.username,password:this.state.input.password,handleInputChange:this.handleInputChange}),this.state.showFilters&&i.a.createElement(y,{dateEnd:this.state.dateEnd,dateStart:this.state.dateStart,filterDate:this.filterDate,filterTitle:this.filterTitle,isAsc:this.state.isAsc,showBooks:this.state.showBooks,showComics:this.state.showComics,showDate:this.state.showDate,showDuplicates:this.state.showDuplicates,showMovies:this.state.showMovies,toggleIsAsc:this.toggleIsAsc,toggleShowBooks:this.toggleShowBooks,toggleShowComics:this.toggleShowComics,toggleShowDuplicates:this.toggleShowDuplicates,toggleShowMovies:this.toggleShowMovies,toggleShowDate:this.toggleShowDate,title:this.state.title}),i.a.createElement(S,{isAsc:this.state.isAsc,items:this.state.items,dateEnd:this.state.dateEnd,dateStart:this.state.dateStart,showBooks:this.state.showBooks,showDate:this.state.showDate,showDuplicates:this.state.showDuplicates,showComics:this.state.showComics,showMovies:this.state.showMovies,title:this.state.title}))}}]),e}(a.Component),I=Object(u.a)(E);s(54);n.a.render(i.a.createElement(r.a,null,i.a.createElement(I,null)),document.getElementById("root"))}},[[26,2,1]]]);
//# sourceMappingURL=main.2afb553b.chunk.js.map